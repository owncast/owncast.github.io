"use strict";(self.webpackChunkowncast_docusaurus=self.webpackChunkowncast_docusaurus||[]).push([[3993],{28453:(e,o,t)=>{t.d(o,{R:()=>n,x:()=>a});var r=t(96540);const s={},i=r.createContext(s);function n(e){const o=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(o):{...o,...e}},[o,e])}function a(e){let o;return o=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:n(e.components),r.createElement(i.Provider,{value:o},e.children)}},46128:(e,o,t)=>{t.r(o),t.d(o,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>n,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"storage","title":"Object Storage","description":"Use an external storage provider to distribute your Owncast video stream.","source":"@site/docs/storage.md","sourceDirName":".","slug":"/docs/s3/","permalink":"/docs/docs/s3/","draft":false,"unlisted":false,"editUrl":"https://github.com/owncast/owncast.github.io/edit/main/docs/storage.md","tags":[],"version":"current","sidebarPosition":500,"frontMatter":{"title":"Object Storage","description":"Use an external storage provider to distribute your Owncast video stream.","sidebar_position":500,"sidebar_label":"Object Storage","slug":"/docs/s3/","redirects":["/docs/s3/"]},"sidebar":"docs","previous":{"title":"Custom emoji","permalink":"/docs/chat/emoji"},"next":{"title":"Content Delivery Networks (CDNs)","permalink":"/docs/cdns"}}');var s=t(74848),i=t(28453);const n={title:"Object Storage",description:"Use an external storage provider to distribute your Owncast video stream.",sidebar_position:500,sidebar_label:"Object Storage",slug:"/docs/s3/",redirects:["/docs/s3/"]},a=void 0,c={},l=[{value:"Configuration",id:"configuration",level:2},{value:"Optional settings",id:"optional-settings",level:3}];function d(e){const o={a:"a",code:"code",h2:"h2",h3:"h3",li:"li",ol:"ol",p:"p",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(o.p,{children:"Instead of serving video directly from your personal server you can use a S3 compatible storage provider to offload the bandwidth and storage requirements elsewhere. This is not for permanent storage of recordings or archival purposes, just for live streams."}),"\n",(0,s.jsxs)(o.p,{children:["To learn more about how your bandwidth may be affected by your video configuration and how using object storage could help for some use cases, visit the ",(0,s.jsx)(o.a,{href:"/docs/resources-requirements/",children:"resources and requirements"})," page."]}),"\n",(0,s.jsx)(o.p,{children:"If your storage provider is S3 compatible it will likely work with Owncast. Read the documentation for your provider to learn how to setup an object storage bucket, enable CORS, make the files public, and get the necessary credentials to provide to your Owncast configuration."}),"\n",(0,s.jsx)(o.h2,{id:"configuration",children:"Configuration"}),"\n",(0,s.jsxs)(o.ol,{children:["\n",(0,s.jsx)(o.li,{children:"Visit your Owncast server setup page in the admin and view the Object Storage settings."}),"\n",(0,s.jsx)(o.li,{children:"Enable it."}),"\n",(0,s.jsx)(o.li,{children:"Visit your storage provider and create a new bucket."}),"\n",(0,s.jsx)(o.li,{children:"Enter the bucket name, access key, secret key, and endpoint that your object storage provider's interface gave you into the Owncast settings. These have to be correct, so double check them. Contact your storage provider's support if you're not sure what these are."}),"\n",(0,s.jsx)(o.li,{children:"Make sure your bucket is publicly accessible, and anybody can read files from it. Some storage providers may set your bucket as private by default, so you may need to change this setting."}),"\n",(0,s.jsxs)(o.li,{children:["If your storage provider requires you to setup any kind of ",(0,s.jsx)(o.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/CORS",children:"CORS"})," policy in order for your files to be accessed, make sure you do that. Visit your object storage provider's documentation to learn how to configure your CORS policy, as it's different for every provider. It's generally a good idea to allow all origins, but you can restrict it to your Owncast server if you have a specific need to do that, and you don't anticipate using your stream in other web pages. If your stream is not working and your browser console error log shows errors about ",(0,s.jsx)(o.code,{children:"CORS"})," or ",(0,s.jsx)(o.code,{children:"Access-Control-Allow-Origin"}),", this is likely the problem. This is often very common, so make sure your bucket is setup correctly."]}),"\n"]}),"\n",(0,s.jsx)(o.h3,{id:"optional-settings",children:"Optional settings"}),"\n",(0,s.jsx)(o.p,{children:"Most people won't need to touch these settings, but they're available if you need them."}),"\n",(0,s.jsxs)(o.ul,{children:["\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"ACL"}),": If you are required to specify a specific access control option when uploading files, you can specify it here. Refer to your object storage provider's documentation."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Path Prefix"}),": If you want to store your files in a subdirectory within your bucket, you can specify that here. For example, if you want to store your files in a folder called ",(0,s.jsx)(o.code,{children:"mystream"}),", you would enter ",(0,s.jsx)(o.code,{children:"mystream"})," here. This is only useful if you're using a single bucket for multiple purposes, or have multiple Owncast servers pointing to the same bucket."]}),"\n",(0,s.jsxs)(o.li,{children:[(0,s.jsx)(o.strong,{children:"Path-style configuration"}),': Some storage providers, such as Oracle Cloud Objects, require the "path-style" configuration option to be enabled. Refer to your storage provider documentation to learn if this is required.']}),"\n"]})]})}function u(e={}){const{wrapper:o}={...(0,i.R)(),...e.components};return o?(0,s.jsx)(o,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}}}]);