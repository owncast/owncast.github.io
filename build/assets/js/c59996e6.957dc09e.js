"use strict";(self.webpackChunkowncast_docusaurus=self.webpackChunkowncast_docusaurus||[]).push([[6541],{17885:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>l,contentTitle:()=>r,default:()=>h,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"api/actions","title":"External Actions","description":"You can display external user interfaces into Owncast by registering external actions.","source":"@site/docs/api/actions.mdx","sourceDirName":"api","slug":"/api/actions","permalink":"/docs/api/actions","draft":false,"unlisted":false,"editUrl":"https://github.com/owncast/owncast.github.io/edit/main/docs/api/actions.mdx","tags":[],"version":"current","sidebarPosition":48,"frontMatter":{"title":"External Actions","description":"You can display external user interfaces into Owncast by registering external actions.","sidebar_position":48},"sidebar":"docs","previous":{"title":"Webhooks","permalink":"/docs/api/webhooks"},"next":{"title":"Sample Projects","permalink":"/docs/api/samples"}}');var i=n(74848),o=n(28453);const a={title:"External Actions",description:"You can display external user interfaces into Owncast by registering external actions.",sidebar_position:48},r=void 0,l={},c=[{value:"Examples",id:"examples",level:2},{value:"Limitations",id:"limitations",level:2},{value:"How to register actions",id:"how-to-register-actions",level:2},{value:"Best practices",id:"best-practices",level:2}];function d(e){const t={a:"a",code:"code",h2:"h2",li:"li",ol:"ol",p:"p",strong:"strong",...(0,o.R)(),...e.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(t.p,{children:"You can build additional interfaces that are hosted with any add-ons, extensions, or 3rd party sites. Each action is a single URL or custom HTML that will be loaded and displayed when a user presses a button on the Owncast page."}),"\n",(0,i.jsx)(t.h2,{id:"examples",children:"Examples"}),"\n",(0,i.jsx)(t.p,{children:"Some examples of this functionality might be things like:"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"A leader board for some chat-based game you built or an external game you're playing on stream."}),"\n",(0,i.jsx)(t.li,{children:"Lists of actions that perform fun animations on your stream overlays when selected."}),"\n",(0,i.jsx)(t.li,{children:"Integrations with your polling chat bot that shows recent polls and the results."}),"\n",(0,i.jsx)(t.li,{children:"Tip Jar to accept donations."}),"\n",(0,i.jsx)(t.li,{children:"A schedule that is fancier or more interactive than what you can represent in Markdown."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"limitations",children:"Limitations"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsxs)(t.li,{children:["URLs embedded via external actions must be hosted on a server that supports SSL and has a ",(0,i.jsx)(t.code,{children:"https"})," protocol. Unsecured URLs are not supported."]}),"\n",(0,i.jsxs)(t.li,{children:["These URLs must support existing inside an iframe. This means ",(0,i.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options",children:"X-FRAME-OPTIONS"})," and the ",(0,i.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy",children:"CSP"})," cannot be blocking. If you are blocked then you're limited to loading this URL in a new tab and that's not a great experience."]}),"\n",(0,i.jsx)(t.li,{children:"While you can experiment with using URLs that you don't personally control, it's often likely that many of them will not work due to limitations placed on the remote server. An example of this is just throwing in a PayPal or Google URL."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"how-to-register-actions",children:"How to register actions"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:'Visit the admin, and under "Integrations" go to the "External Actions" page.'}),"\n",(0,i.jsx)(t.li,{children:"Add an action."}),"\n",(0,i.jsx)(t.li,{children:"Set the URL or custom HTML of this action. URLs should be a HTTPS destination and follow the best practices listed."}),"\n",(0,i.jsx)(t.li,{children:"Give it a name that will be displayed on the button that launches this action, an optional description that will show in the modal that presents the action, a URL to an optional icon for the button, and optionally a color that will be used for the button."}),"\n",(0,i.jsx)(t.li,{children:"If you really want to register a URL you don't control, but it doesn't work with the default functionality, you can tell it to \"Open Externally\" and it will open a new tab in your browser. This is not optimal, but it's an option."}),"\n"]}),"\n",(0,i.jsx)(t.h2,{id:"best-practices",children:"Best practices"}),"\n",(0,i.jsxs)(t.ol,{children:["\n",(0,i.jsx)(t.li,{children:"This action's UI should perform little to no navigation. It shouldn't be treated as a way to show just any page."}),"\n",(0,i.jsx)(t.li,{children:"Design your UI to live in a small window that doesn't require much, if any, scrolling, and is responsive to mobile and small displays."}),"\n",(0,i.jsxs)(t.li,{children:["Make sure your URL's server allows loading your content from your Owncast server via ",(0,i.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/X-Frame-Options",children:"X-FRAME-OPTIONS"})," and the ",(0,i.jsx)(t.a,{href:"https://developer.mozilla.org/en-US/docs/Web/HTTP/Headers/Content-Security-Policy",children:"CSP"}),"."]}),"\n",(0,i.jsx)(t.li,{children:"The chat username of the person who fired this action is passed along as a URL parameter so you can pre-fill any forms for convenience. You should utilize this."}),"\n",(0,i.jsxs)(t.li,{children:["The instance URL of the Owncast server that is displaying this action UI is passed along as a URL parameter so if you happen to be hosting actions for multiple servers you can know where it's coming from. ",(0,i.jsx)(t.strong,{children:"Note:"})," You shouldn't perform arbitrary API requests just because this parameter exists, since anybody can easily fake it."]}),"\n",(0,i.jsxs)(t.li,{children:["For HTML actions that include custom styling via ",(0,i.jsx)(t.code,{children:"<style>"})," tags, you should make sure to have selectors that are as specific as possible, not colliding with any other elements in the page."]}),"\n",(0,i.jsxs)(t.li,{children:["For HTML actions that directly embed a ",(0,i.jsx)(t.code,{children:"<form>"})," element, it makes sense to set ",(0,i.jsx)(t.code,{children:'target="_blank"'})," to open the submit page in a new tab. That way your viewers won't have to stop the stream when submitting the form."]}),"\n"]})]})}function h(e={}){const{wrapper:t}={...(0,o.R)(),...e.components};return t?(0,i.jsx)(t,{...e,children:(0,i.jsx)(d,{...e})}):d(e)}},28453:(e,t,n)=>{n.d(t,{R:()=>a,x:()=>r});var s=n(96540);const i={},o=s.createContext(i);function a(e){const t=s.useContext(o);return s.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function r(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(i):e.components||i:a(e.components),s.createElement(o.Provider,{value:t},e.children)}}}]);