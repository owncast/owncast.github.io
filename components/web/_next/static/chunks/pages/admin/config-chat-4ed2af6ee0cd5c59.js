(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1591],{42011:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-chat",function(){return t(9267)}])},36981:function(e,n,t){"use strict";t.d(n,{Q:function(){return d},Y:function(){return u}});var a=t(85893),s=t(67294),l=t(23657),c=t(91624),i=t(25510),r=t(17586);let{Title:o}=l.default,d="#5a67d8",u=e=>{let{title:n,description:t,placeholder:l,maxLength:u,values:f,handleDeleteIndex:h,handleCreateString:m,submitStatus:g,continuousStatusMessage:p}=e,[b,v]=(0,s.useState)("");return(0,a.jsxs)("div",{className:"edit-string-array-container",children:[(0,a.jsx)(o,{level:3,className:"section-title",children:n}),(0,a.jsx)("p",{className:"description",children:t}),(0,a.jsx)("div",{className:"edit-current-strings",children:null==f?void 0:f.map((e,n)=>(0,a.jsx)(c.Z,{closable:!0,onClose:()=>{h(n)},color:d,children:e},"tag-".concat(e,"-").concat(n)))}),p&&(0,a.jsx)("div",{className:"continuous-status-section",children:(0,a.jsx)(r.E,{status:p})}),(0,a.jsx)("div",{className:"add-new-string-section",children:(0,a.jsx)(i.nv,{fieldName:"string-input",value:b,onChange:e=>{let{value:n}=e;v(n)},onPressEnter:()=>{m(b.trim()),v("")},maxLength:u,placeholder:l,status:g})})]})};u.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},22067:function(e,n,t){"use strict";t.d(n,{Z:function(){return d}});var a=t(85893),s=t(67294),l=t(59633),c=t(28700),i=t(17586),r=t(70869),o=t(4481);let d=e=>{let{apiPath:n,checked:t,reversed:d=!1,configPath:u="",disabled:f=!1,fieldName:h,label:m,tip:g,useSubmit:p,onChange:b}=e,[v,x]=(0,s.useState)(null),C=null,{setFieldInConfigState:N}=(0,s.useContext)(o.a)||{},j=()=>{x(null),clearTimeout(C),C=null},k=async e=>{if(p){x((0,c.kg)(c.Jk));let t=d?!e:e;await (0,r.Si)({apiPath:n,data:{value:t},onSuccess:()=>{N({fieldName:h,value:t,path:u}),x((0,c.kg)(c.zv))},onError:e=>{x((0,c.kg)(c.Un,"There was an error: ".concat(e)))}}),C=setTimeout(j,r.sI)}b&&b(e)},E=null!==v&&v.type===c.Jk;return(0,a.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[m&&(0,a.jsx)("div",{className:"label-side",children:(0,a.jsx)("span",{className:"formfield-label",children:m})}),(0,a.jsxs)("div",{className:"input-side",children:[(0,a.jsxs)("div",{className:"input-group",children:[(0,a.jsx)(l.Z,{className:"switch field-".concat(h),loading:E,onChange:k,defaultChecked:t,checked:t,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:f}),(0,a.jsx)(i.E,{status:v})]}),(0,a.jsx)("p",{className:"field-tip",children:g})]})]})};d.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},78021:function(e,n,t){"use strict";var a=t(78235);n.Z=a.Z},10227:function(e,n,t){"use strict";var a=t(79338);n.Z=a.Z},59633:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var a=t(87462),s=t(4942),l=t(72034),c=t(93967),i=t.n(c),r=t(97685),o=t(45987),d=t(67294),u=t(22720),f=t(77524),h=d.forwardRef(function(e,n){var t,a=e.prefixCls,l=void 0===a?"rc-switch":a,c=e.className,h=e.checked,m=e.defaultChecked,g=e.disabled,p=e.loadingIcon,b=e.checkedChildren,v=e.unCheckedChildren,x=e.onClick,C=e.onChange,N=e.onKeyDown,j=(0,o.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,u.Z)(!1,{value:h,defaultValue:m}),E=(0,r.Z)(k,2),Z=E[0],y=E[1];function w(e,n){var t=Z;return g||(y(t=e),null==C||C(t,n)),t}var S=i()(l,c,(t={},(0,s.Z)(t,"".concat(l,"-checked"),Z),(0,s.Z)(t,"".concat(l,"-disabled"),g),t));return d.createElement("button",Object.assign({},j,{type:"button",role:"switch","aria-checked":Z,disabled:g,className:S,ref:n,onKeyDown:function(e){e.which===f.Z.LEFT?w(!1,e):e.which===f.Z.RIGHT&&w(!0,e),null==N||N(e)},onClick:function(e){var n=w(!Z,e);null==x||x(n,e)}}),p,d.createElement("span",{className:"".concat(l,"-inner")},Z?b:v))});h.displayName="Switch";var m=t(17399),g=t(92933),p=t(23173),b=t(51964),v=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>n.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t},x=d.forwardRef(function(e,n){var t=e.prefixCls,c=e.size,r=e.disabled,o=e.loading,u=e.className,f=v(e,["prefixCls","size","disabled","loading","className"]),x=d.useContext(m.E_),C=x.getPrefixCls,N=x.direction,j=d.useContext(p.Z),k=d.useContext(g.Z),E=(null!=r?r:k)||o,Z=C("switch",t),y=d.createElement("div",{className:"".concat(Z,"-handle")},o&&d.createElement(l.Z,{className:"".concat(Z,"-loading-icon")})),w=i()((0,s.Z)((0,s.Z)((0,s.Z)({},"".concat(Z,"-small"),"small"===(c||j)),"".concat(Z,"-loading"),o),"".concat(Z,"-rtl"),"rtl"===N),void 0===u?"":u);return d.createElement(b.Z,{insertExtraNode:!0},d.createElement(h,(0,a.Z)({},f,{prefixCls:Z,className:w,disabled:E,ref:n,loadingIcon:y})))});x.__ANT_SWITCH=!0;var C=x},91624:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var a=t(4942),s=t(87462),l=t(97685),c=t(69156),i=t(93967),r=t.n(i),o=t(97485),d=t(67294),u=t(17399),f=t(22781),h=t(51964),m=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>n.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t},g=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>n.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(t[a[s]]=e[a[s]]);return t},p=new RegExp("^(".concat(f.Y.join("|"),")(-inverse)?$")),b=new RegExp("^(".concat(f.E.join("|"),")$")),v=d.forwardRef(function(e,n){var t=e.prefixCls,i=e.className,f=e.style,m=e.children,v=e.icon,x=e.color,C=e.onClose,N=e.closeIcon,j=e.closable,k=g(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),E=d.useContext(u.E_),Z=E.getPrefixCls,y=E.direction,w=d.useState(!0),S=(0,l.Z)(w,2),O=S[0],P=S[1];d.useEffect(function(){"visible"in k&&P(k.visible)},[k.visible]);var U=function(){return!!x&&(p.test(x)||b.test(x))},_=(0,s.Z)({backgroundColor:x&&!U()?x:void 0},f),I=U(),T=Z("tag",t),D=r()(T,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},"".concat(T,"-").concat(x),I),"".concat(T,"-has-color"),x&&!I),"".concat(T,"-hidden"),!O),"".concat(T,"-rtl"),"rtl"===y),i),M=function(e){e.stopPropagation(),null==C||C(e),!e.defaultPrevented&&("visible"in k||P(!1))},F="onClick"in k||m&&"a"===m.type,A=(0,o.Z)(k,["visible"]),J=v||null,R=J?d.createElement(d.Fragment,null,J,d.createElement("span",null,m)):m,z=d.createElement("span",(0,s.Z)({},A,{ref:n,className:D,style:_}),R,void 0!==j&&j?N?d.createElement("span",{className:"".concat(T,"-close-icon"),onClick:M},N):d.createElement(c.Z,{className:"".concat(T,"-close-icon"),onClick:M}):null);return F?d.createElement(h.Z,null,z):z});v.CheckableTag=function(e){var n=e.prefixCls,t=e.className,l=e.checked,c=e.onChange,i=e.onClick,o=m(e,["prefixCls","className","checked","onChange","onClick"]),f=(0,d.useContext(u.E_).getPrefixCls)("tag",n),h=r()(f,(0,a.Z)((0,a.Z)({},"".concat(f,"-checkable"),!0),"".concat(f,"-checkable-checked"),l),t);return d.createElement("span",(0,s.Z)({},o,{className:h,onClick:function(e){null==c||c(!l),null==i||i(e)}}))};var x=v},9267:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return p}});var a=t(85893),s=t(23657),l=t(10227),c=t(78021),i=t(67294),r=t(25510),o=t(18063),d=t(22067),u=t(36981),f=t(28700),h=t(70869),m=t(4481),g=t(25889);function p(){var e;let{Title:n}=s.default,[t,g]=(0,i.useState)(null),[p,b]=(0,i.useState)(null),[v,x]=(0,i.useState)(null),{serverConfig:C,setFieldInConfigState:N}=(0,i.useContext)(m.a)||{},{chatDisabled:j,chatJoinMessagesEnabled:k,forbiddenUsernames:E,instanceDetails:Z,suggestedUsernames:y,chatEstablishedUserMode:w,chatSpamProtectionEnabled:S,chatSlurFilterEnabled:O}=C,{welcomeMessage:P}=Z,U=e=>{let{fieldName:n,value:a}=e;g({...t,[n]:a})};function _(){b(null)}function I(){(0,h.Si)({apiPath:h.CJ,data:{value:t.forbiddenUsernames},onSuccess:()=>{N({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),b((0,f.kg)(f.zv)),setTimeout(_,h.sI)},onError:e=>{b((0,f.kg)(f.Un,e)),setTimeout(_,h.sI)}})}function T(){x(null)}function D(){(0,h.Si)({apiPath:h.cf,data:{value:t.suggestedUsernames},onSuccess:()=>{N({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),x((0,f.kg)(f.zv)),setTimeout(T,h.sI)},onError:e=>{b((0,f.kg)(f.Un,e)),setTimeout(T,h.sI)}})}return((0,i.useEffect)(()=>{g({chatDisabled:j,chatJoinMessagesEnabled:k,forbiddenUsernames:E,suggestedUsernames:y,welcomeMessage:P,chatEstablishedUserMode:w,chatSpamProtectionEnabled:S,chatSlurFilterEnabled:O})},[C]),t)?(0,a.jsxs)("div",{className:"config-server-details-form",children:[(0,a.jsx)(n,{children:"Chat Settings"}),(0,a.jsxs)(l.Z,{gutter:[45,16],children:[(0,a.jsx)(c.Z,{md:24,lg:12,children:(0,a.jsxs)("div",{className:"form-module",children:[(0,a.jsx)(d.Z,{fieldName:"chatDisabled",...h.yj,checked:!t.chatDisabled,reversed:!0,onChange:function(e){U({fieldName:"chatDisabled",value:!e})}}),(0,a.jsx)(d.Z,{fieldName:"chatJoinMessagesEnabled",...h.kB,checked:t.chatJoinMessagesEnabled,onChange:function(e){U({fieldName:"chatJoinMessagesEnabled",value:e})}}),(0,a.jsx)(o.$7,{fieldName:"welcomeMessage",...h.IX,type:r.Sk,value:t.welcomeMessage,initialValue:P,onChange:U}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Y,{title:h.Dg.label,placeholder:h.Dg.placeholder,description:h.Dg.tip,values:t.forbiddenUsernames,handleDeleteIndex:function(e){t.forbiddenUsernames.splice(e,1),I()},handleCreateString:function(e){t.forbiddenUsernames.push(e),U({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),I()},submitStatus:p}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Y,{title:h.AN.label,placeholder:h.AN.placeholder,description:h.AN.tip,values:t.suggestedUsernames,handleDeleteIndex:function(e){t.suggestedUsernames.splice(e,1),D()},handleCreateString:function(e){t.suggestedUsernames.push(e),U({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),D()},submitStatus:v,continuousStatusMessage:0===(e=t.suggestedUsernames.length)?(0,f.kg)("success",h.AN.no_entries):e>0&&e<10?(0,f.kg)("warning",h.AN.min_not_reached):null})]})}),(0,a.jsx)(c.Z,{md:24,lg:12,children:(0,a.jsxs)("div",{className:"form-module",children:[(0,a.jsx)(d.Z,{fieldName:"chatSpamProtectionEnabled",...h.U5,checked:t.chatSpamProtectionEnabled,onChange:function(e){U({fieldName:"chatSpamProtectionEnabled",value:e})}}),(0,a.jsx)(d.Z,{fieldName:"chatEstablishedUserMode",...h.dj,checked:t.chatEstablishedUserMode,onChange:function(e){U({fieldName:"chatEstablishedUserMode",value:e})}}),(0,a.jsx)(d.Z,{fieldName:"chatSlurFilterEnabled",...h.T_,checked:t.chatSlurFilterEnabled,onChange:function(e){U({fieldName:"chatSlurFilterEnabled",value:e})}})]})})]})]}):null}p.getLayout=function(e){return(0,a.jsx)(g.l,{page:e})}}},function(e){e.O(0,[83,1287,8920,7786,443,9904,3657,2502,3093,5889,2888,9774,179],function(){return e(e.s=42011)}),_N_E=e.O()}]);