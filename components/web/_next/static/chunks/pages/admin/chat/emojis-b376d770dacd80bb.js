(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6559],{10887:function(e,o,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/chat/emojis",function(){return t(21493)}])},11660:function(e,o,t){"use strict";t.d(o,{W:function(){return s}});var n=t(85893);t(67294);var i=t(37039);let s=e=>{let o,{translationKey:t,vars:s,className:r,id:a,defaultText:d,count:l}=e,{t:m}=(0,i.$G)(),c=void 0!==l?{...s,count:l}:s;if(void 0!==l){if(1===l){let e="".concat(t,"_one");(o=m(e,c))===e&&(o=m(t,c))}else o=m(t,c)}else o=m(t,c);if(o===t&&d)for(let[e,t]of(o=d,Object.entries(c||{}))){let n=RegExp("{{\\s*".concat(e,"\\s*}}"),"g");o=o.replace(n,String(t))}return(0,n.jsx)("span",{className:r,id:a,dangerouslySetInnerHTML:{__html:o}})};o.Z=s},21493:function(e,o,t){"use strict";t.r(o);var n=t(85893),i=t(3816),s=t(23657),r=t(56469),a=t(10227),d=t(78021),l=t(8968),m=t(10647),c=t(6468),u=t(67294),A=t(5152),p=t.n(A),f=t(37039),g=t(17586),w=t(11992),h=t(35329),F=t(28700),y=t(70869),M=t(25889),b=t(11660),T=t(53278);let{Meta:k}=i.default,N=p()(()=>Promise.resolve().then(t.t.bind(t,12155,23)),{loadableGenerated:{webpack:()=>[12155]},ssr:!1}),{Title:j,Paragraph:S}=s.default,B=()=>{let[e,o]=(0,u.useState)([]),[t,s]=(0,u.useState)(!1),[A,p]=(0,u.useState)(null),[M,B]=(0,u.useState)(null),{t:H}=(0,f.$G)(),v=null,x=()=>{p(null),clearTimeout(v),v=null};async function E(){s(!0);try{let e=await (0,w.rQ)("/api/emoji");o(e)}catch(e){console.error("error fetching emojis",e)}s(!1)}async function V(e){let o="/".concat(e.split("/").slice(3).join("/"));console.log(o),s(!0),p((0,F.kg)(F.Jk,H(T.W.Admin.StatusMessages.deletingEmoji)));try{let e=await (0,w.rQ)(w.Ff,{method:"POST",data:{name:o}});if(e instanceof Error)throw e;p((0,F.kg)(F.zv,H(T.W.Admin.StatusMessages.emojiDeleted))),v=setTimeout(x,y.sI)}catch(e){p((0,F.kg)(F.Un,"".concat(e))),s(!1),v=setTimeout(x,y.sI)}E()}async function C(){s(!0);try{p((0,F.kg)(F.Jk,H(T.W.Admin.StatusMessages.convertingEmoji)));let e=await new Promise((e,o)=>{if(!h.dr.includes(M.type)){let e="File type is not supported: ".concat(M.type);return o(e)}(0,h.y3)(M,o=>e({name:M.name,url:o}))});p((0,F.kg)(F.Jk,H(T.W.Admin.StatusMessages.uploadingEmoji)));let o=await (0,w.rQ)(w.Qc,{method:"POST",data:{name:e.name,data:e.url}});if(o instanceof Error)throw o;p((0,F.kg)(F.zv,H(T.W.Admin.StatusMessages.emojiUploadedSuccessfully))),E()}catch(e){p((0,F.kg)(F.Un,"".concat(e)))}v=setTimeout(x,y.sI),s(!1)}return(0,u.useEffect)(()=>{E()},[]),(0,n.jsxs)("div",{children:[(0,n.jsx)(j,{children:(0,n.jsx)(b.W,{translationKey:T.W.Admin.emojis})}),(0,n.jsx)(S,{children:(0,n.jsx)(b.W,{translationKey:T.W.Admin.emojiPageDescription})}),(0,n.jsx)(S,{children:(0,n.jsx)(b.W,{translationKey:T.W.Admin.emojiUploadBulkGuide})}),(0,n.jsx)("br",{}),(0,n.jsx)(c.Z,{name:"emoji",listType:"picture",className:"emoji-uploader",showUploadList:!1,accept:h.dr.join(","),beforeUpload:B,customRequest:C,disabled:t,children:(0,n.jsx)(r.Z,{type:"primary",disabled:t,children:(0,n.jsx)(b.W,{translationKey:T.W.Admin.uploadNewEmoji})})}),(0,n.jsx)(g.Z,{status:A}),(0,n.jsx)("br",{}),(0,n.jsx)(a.Z,{children:e.map(e=>(0,n.jsx)(d.Z,{style:{padding:"10px"},children:(0,n.jsx)(i.default,{style:{width:120,marginTop:16},actions:[],children:(0,n.jsx)(k,{description:[(0,n.jsxs)("div",{style:{display:"flex",justifyItems:"center",alignItems:"center",flexDirection:"column",gap:"20px"},children:[(0,n.jsx)(l.Z,{title:e.name,children:(0,n.jsx)(m.C,{style:{height:50,width:50},src:e.url})}),(0,n.jsx)(r.Z,{size:"small",type:"ghost",title:H(T.W.Admin.deleteEmoji),style:{position:"absolute",right:0,top:0,height:24,width:24,border:"none",color:"gray"},onClick:()=>V(e.url),icon:(0,n.jsx)(N,{})})]})]})})},e.name))}),(0,n.jsx)("br",{})]})};B.getLayout=function(e){return(0,n.jsx)(M.l,{page:e})},o.default=B},53278:function(e,o,t){"use strict";t.d(o,{W:function(){return n}});let n={Frontend:{chatOffline:"Chat is offline",chatDisabled:"Chat is disabled",chatWillBeAvailable:"Chat will be available when the stream is live",lastLiveAgo:"Last live {{timeAgo}} ago",currentViewers:"Current viewers",maxViewers:"Max viewers this stream",noStreamActive:"No stream is active",healthyStream:"Healthy Stream",playbackHealth:"Playback Health",notify:"Notify",follow:"Follow",connected:"Connected",skipToPlayer:"Skip to player",skipToContent:"Skip to page content",skipToFooter:"Skip to footer",stayUpdated:"Stay updated!",fediverse:"Add your Owncast instance to the Fediverse",owncastDirectory:"Find an audience on the Owncast Directory",useBroadcastingSoftware:"Use your broadcasting software",embedVideo:"Embed your video onto other sites",helloWorld:"Frontend.helloWorld",complexMessage:"Frontend.complexMessage",componentError:"Frontend.componentError",BrowserNotifyModal:{unsupported:"Frontend.BrowserNotifyModal.unsupported",unsupportedLocal:"Frontend.BrowserNotifyModal.unsupportedLocal",iosTitle:"Frontend.BrowserNotifyModal.iosTitle",iosDescription:"Frontend.BrowserNotifyModal.iosDescription",iosShareButton:"Frontend.BrowserNotifyModal.iosShareButton",iosAddToHomeScreen:"Frontend.BrowserNotifyModal.iosAddToHomeScreen",iosAddButton:"Frontend.BrowserNotifyModal.iosAddButton",iosNameAndTap:"Frontend.BrowserNotifyModal.iosNameAndTap",iosComeBack:"Frontend.BrowserNotifyModal.iosComeBack",iosAllowPrompt:"Frontend.BrowserNotifyModal.iosAllowPrompt",permissionWantsTo:"Frontend.BrowserNotifyModal.permissionWantsTo",showNotifications:"Frontend.BrowserNotifyModal.showNotifications",allowButton:"Frontend.BrowserNotifyModal.allowButton",blockButton:"Frontend.BrowserNotifyModal.blockButton",enabledTitle:"Frontend.BrowserNotifyModal.enabledTitle",enabledDescription:"Frontend.BrowserNotifyModal.enabledDescription",deniedTitle:"Frontend.BrowserNotifyModal.deniedTitle",deniedDescription:"Frontend.BrowserNotifyModal.deniedDescription",mainDescription:"Frontend.BrowserNotifyModal.mainDescription",learnMore:"Frontend.BrowserNotifyModal.learnMore",errorTitle:"Frontend.BrowserNotifyModal.errorTitle",errorMessage:"Frontend.BrowserNotifyModal.errorMessage"},NameChangeModal:{description:"Frontend.NameChangeModal.description",placeholder:"Frontend.NameChangeModal.placeholder",buttonText:"Frontend.NameChangeModal.buttonText",colorLabel:"Frontend.NameChangeModal.colorLabel",authInfo:"Frontend.NameChangeModal.authInfo",overLimit:"Frontend.NameChangeModal.overLimit"},Header:{skipToPlayer:"Frontend.Header.skipToPlayer",skipToOfflineMessage:"Frontend.Header.skipToOfflineMessage",skipToContent:"Frontend.Header.skipToContent",skipToFooter:"Frontend.Header.skipToFooter",chatWillBeAvailable:"Frontend.Header.chatWillBeAvailable",chatOffline:"Frontend.Header.chatOffline"},Footer:{documentation:"Frontend.Footer.documentation",contribute:"Frontend.Footer.contribute",source:"Frontend.Footer.source"},Chat:{userJoined:"Frontend.Chat.userJoined",userLeft:"Frontend.Chat.userLeft",nameChangeText:"Frontend.Chat.nameChangeText",moderatorNotification:"Frontend.Chat.moderatorNotification"},FollowModal:{description:"Frontend.FollowModal.description",learnFediverse:"Frontend.FollowModal.learnFediverse",newToYou:"Frontend.FollowModal.newToYou",instructions:"Frontend.FollowModal.instructions",placeholder:"Frontend.FollowModal.placeholder",redirectMessage:"Frontend.FollowModal.redirectMessage",joinFediverse:"Frontend.FollowModal.joinFediverse",followButton:"Frontend.FollowModal.followButton",followError:"Frontend.FollowModal.followError",unableToFollow:"Frontend.FollowModal.unableToFollow"},offlineBasic:"Frontend.offlineBasic",offlineNotifyOnly:"Frontend.offlineNotifyOnly",offlineFediverseOnly:"Frontend.offlineFediverseOnly",offlineNotifyAndFediverse:"Frontend.offlineNotifyAndFediverse"},Admin:{emojis:"Admin.emojis",emojiPageDescription:"Admin.emojiPageDescription",emojiUploadBulkGuide:"Admin.emojiUploadBulkGuide",uploadNewEmoji:"Admin.uploadNewEmoji",deleteEmoji:"Admin.deleteEmoji",settings:"Admin.settings",overriddenViaCommandLine:"Admin.overriddenViaCommandLine",Chat:{moderationMessagesSent:"Admin.Chat.moderationMessagesSent",moderationMessagesSent_one:"Admin.Chat.moderationMessagesSent_one"},EditInstanceDetails:{offlineMessageDescription:"Admin.EditInstanceDetails.offlineMessageDescription",directoryDescription:"Admin.EditInstanceDetails.directoryDescription",serverUrlRequiredForDirectory:"Admin.EditInstanceDetails.serverUrlRequiredForDirectory"},VideoVariantForm:{bitrateDisabledPassthrough:"Admin.VideoVariantForm.bitrateDisabledPassthrough",bitrateValueKbps:"Admin.VideoVariantForm.bitrateValueKbps",bitrateGoodForSlow:"Admin.VideoVariantForm.bitrateGoodForSlow",bitrateGoodForMost:"Admin.VideoVariantForm.bitrateGoodForMost",bitrateGoodForHigh:"Admin.VideoVariantForm.bitrateGoodForHigh"},HardwareInfo:{title:"Admin.HardwareInfo.title",pleaseWait:"Admin.HardwareInfo.pleaseWait",noDetails:"Admin.HardwareInfo.noDetails",cpu:"Admin.HardwareInfo.cpu",memory:"Admin.HardwareInfo.memory",disk:"Admin.HardwareInfo.disk",used:"Admin.HardwareInfo.used"},Help:{title:"Admin.Help.title",configureInstance:"Admin.Help.configureInstance",learnMore:"Admin.Help.learnMore",configureBroadcasting:"Admin.Help.configureBroadcasting",embedStream:"Admin.Help.embedStream",customizeWebsite:"Admin.Help.customizeWebsite",tweakVideo:"Admin.Help.tweakVideo",useStorage:"Admin.Help.useStorage",foundBug:"Admin.Help.foundBug",bugPlease:"Admin.Help.bugPlease",letUsKnow:"Admin.Help.letUsKnow",generalQuestion:"Admin.Help.generalQuestion",generalAnswered:"Admin.Help.generalAnswered",faq:"Admin.Help.faq",orExist:"Admin.Help.orExist",discussions:"Admin.Help.discussions",buildAddons:"Admin.Help.buildAddons",buildTools:"Admin.Help.buildTools",developerApis:"Admin.Help.developerApis",troubleshooting:"Admin.Help.troubleshooting",fixProblems:"Admin.Help.fixProblems",documentation:"Admin.Help.documentation",readDocs:"Admin.Help.readDocs",commonTasks:"Admin.Help.commonTasks",other:"Admin.Help.other"},LogTable:{level:"Admin.LogTable.level",info:"Admin.LogTable.info",warning:"Admin.LogTable.warning",error:"Admin.LogTable.error",timestamp:"Admin.LogTable.timestamp",message:"Admin.LogTable.message",logs:"Admin.LogTable.logs"},NewsFeed:{link:"Admin.NewsFeed.link",noNews:"Admin.NewsFeed.noNews",title:"Admin.NewsFeed.title"},ViewerInfo:{title:"Admin.ViewerInfo.title",currentStream:"Admin.ViewerInfo.currentStream",last12Hours:"Admin.ViewerInfo.last12Hours",last24Hours:"Admin.ViewerInfo.last24Hours",last7Days:"Admin.ViewerInfo.last7Days",last30Days:"Admin.ViewerInfo.last30Days",last3Months:"Admin.ViewerInfo.last3Months",last6Months:"Admin.ViewerInfo.last6Months",currentViewers:"Admin.ViewerInfo.currentViewers",maxViewersThisStream:"Admin.ViewerInfo.maxViewersThisStream",maxViewersLastStream:"Admin.ViewerInfo.maxViewersLastStream",maxViewers:"Admin.ViewerInfo.maxViewers",pleaseWait:"Admin.ViewerInfo.pleaseWait",noData:"Admin.ViewerInfo.noData",viewers:"Admin.ViewerInfo.viewers"},info:"Admin.info",warning:"Admin.warning",error:"Admin.error",level:"Admin.level",timestamp:"Admin.timestamp",message:"Admin.message",logs:"Admin.logs",StatusMessages:{updated:"Admin.StatusMessages.updated",tagsUpdated:"Admin.StatusMessages.tagsUpdated",variantsUpdated:"Admin.StatusMessages.variantsUpdated",videoCodecUpdated:"Admin.StatusMessages.videoCodecUpdated",latencyBufferUpdated:"Admin.StatusMessages.latencyBufferUpdated",deletingEmoji:"Admin.StatusMessages.deletingEmoji",emojiDeleted:"Admin.StatusMessages.emojiDeleted",convertingEmoji:"Admin.StatusMessages.convertingEmoji",uploadingEmoji:"Admin.StatusMessages.uploadingEmoji",emojiUploadedSuccessfully:"Admin.StatusMessages.emojiUploadedSuccessfully",thereWasAnError:"Admin.StatusMessages.thereWasAnError",fileSizeTooBig:"Admin.StatusMessages.fileSizeTooBig",fileTypeNotSupported:"Admin.StatusMessages.fileTypeNotSupported",pleaseEnterTag:"Admin.StatusMessages.pleaseEnterTag",tagAlreadyUsed:"Admin.StatusMessages.tagAlreadyUsed"},Actions:{title:"Admin.Actions.title",description:"Admin.Actions.description",readMoreLink:"Admin.Actions.readMoreLink",createNewAction:"Admin.Actions.createNewAction",createNewActionTitle:"Admin.Actions.createNewActionTitle",editActionTitle:"Admin.Actions.editActionTitle",modalDescription:"Admin.Actions.modalDescription",onlyHttpsSupported:"Admin.Actions.onlyHttpsSupported",readMoreAboutActions:"Admin.Actions.readMoreAboutActions",selectActionType:"Admin.Actions.selectActionType",linkOrEmbedUrl:"Admin.Actions.linkOrEmbedUrl",customHtml:"Admin.Actions.customHtml",htmlEmbedPlaceholder:"Admin.Actions.htmlEmbedPlaceholder",urlPlaceholder:"Admin.Actions.urlPlaceholder",titlePlaceholder:"Admin.Actions.titlePlaceholder",descriptionPlaceholder:"Admin.Actions.descriptionPlaceholder",iconPlaceholder:"Admin.Actions.iconPlaceholder",optionalBackgroundColor:"Admin.Actions.optionalBackgroundColor",openExternally:"Admin.Actions.openExternally"},Webhooks:{createNewWebhook:"Admin.Webhooks.createNewWebhook",webhookUrlPlaceholder:"Admin.Webhooks.webhookUrlPlaceholder",selectEvents:"Admin.Webhooks.selectEvents",selectAll:"Admin.Webhooks.selectAll"},AccessTokens:{createNewAccessToken:"Admin.AccessTokens.createNewAccessToken",nameDescription:"Admin.AccessTokens.nameDescription",namePlaceholder:"Admin.AccessTokens.namePlaceholder",selectPermissions:"Admin.AccessTokens.selectPermissions",cannotEditAfterCreated:"Admin.AccessTokens.cannotEditAfterCreated",selectAll:"Admin.AccessTokens.selectAll"}},Common:{poweredByOwncastVersion:"Common.poweredByOwncastVersion"},Testing:{testing:"testing_string",another:"another_test",simpleKey:"Testing.simpleKey",itemCount:"Testing.itemCount",messageCount:"Testing.messageCount",noPluralKey:"Testing.noPluralKey"}}},35329:function(e,o,t){"use strict";t.d(o,{Z7:function(){return n},dr:function(){return i},kR:function(){return r},y3:function(){return s}});let n=2097152,i=["image/png","image/jpeg","image/gif"];function s(e,o){let t=new FileReader;t.addEventListener("load",()=>o(t.result)),t.readAsDataURL(e)}function r(e){let o=Math.floor(Math.log(e)/Math.log(1024)),t=1*Number((e/Math.pow(1024,o)).toFixed(2));return"".concat(t," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][o])}}},function(e){e.O(0,[3247,83,1287,8920,7786,443,9904,3657,2502,3093,7039,9307,1674,6356,1616,1882,5889,2888,9774,179],function(){return e(e.s=10887)}),_N_E=e.O()}]);