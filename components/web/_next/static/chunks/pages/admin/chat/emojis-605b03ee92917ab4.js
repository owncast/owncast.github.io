(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[6559],{10887:function(e,t,o){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/chat/emojis",function(){return o(21493)}])},11660:function(e,t,o){"use strict";o.d(t,{W:function(){return r}});var i=o(85893);o(67294);var n=o(37039);let r=e=>{let t,{translationKey:o,vars:r,className:s,defaultText:a,count:l}=e,{t:d}=(0,n.$G)(),c=void 0!==l?{...r,count:l}:r;if(void 0!==l){if(1===l){let e="".concat(o,"_one");(t=d(e,c))===e&&(t=d(o,c))}else t=d(o,c)}else t=d(o,c);if(t===o&&a)for(let[e,o]of(t=a,Object.entries(c||{}))){let i=RegExp("{{\\s*".concat(e,"\\s*}}"),"g");t=t.replace(i,String(o))}return(0,i.jsx)("span",{className:s,dangerouslySetInnerHTML:{__html:t}})};t.Z=r},21493:function(e,t,o){"use strict";o.r(t);var i=o(85893),n=o(3816),r=o(23657),s=o(56469),a=o(10227),l=o(78021),d=o(8968),c=o(10647),u=o(6468),m=o(67294),f=o(5152),_=o.n(f),p=o(37039),y=o(17586),h=o(11992),w=o(35329),b=o(28700),g=o(70869),j=o(25889),v=o(11660),x=o(53278);let{Meta:k}=n.default,T=_()(()=>Promise.resolve().then(o.t.bind(o,12155,23)),{loadableGenerated:{webpack:()=>[12155]},ssr:!1}),{Title:A,Paragraph:D}=r.default,E=()=>{let[e,t]=(0,m.useState)([]),[o,r]=(0,m.useState)(!1),[f,_]=(0,m.useState)(null),[j,E]=(0,m.useState)(null),{t:F}=(0,p.$G)(),S=null,C=()=>{_(null),clearTimeout(S),S=null};async function B(){r(!0);try{let e=await (0,h.rQ)("/api/emoji");t(e)}catch(e){console.error("error fetching emojis",e)}r(!1)}async function M(e){let t="/".concat(e.split("/").slice(3).join("/"));console.log(t),r(!0),_((0,b.kg)(b.Jk,"Deleting emoji..."));try{let e=await (0,h.rQ)(h.Ff,{method:"POST",data:{name:t}});if(e instanceof Error)throw e;_((0,b.kg)(b.zv,"Emoji deleted")),S=setTimeout(C,g.sI)}catch(e){_((0,b.kg)(b.Un,"".concat(e))),r(!1),S=setTimeout(C,g.sI)}B()}async function V(){r(!0);try{_((0,b.kg)(b.Jk,"Converting emoji..."));let e=await new Promise((e,t)=>{if(!w.dr.includes(j.type)){let e="File type is not supported: ".concat(j.type);return t(e)}(0,w.y3)(j,t=>e({name:j.name,url:t}))});_((0,b.kg)(b.Jk,"Uploading emoji..."));let t=await (0,h.rQ)(h.Qc,{method:"POST",data:{name:e.name,data:e.url}});if(t instanceof Error)throw t;_((0,b.kg)(b.zv,"Emoji uploaded successfully!")),B()}catch(e){_((0,b.kg)(b.Un,"".concat(e)))}S=setTimeout(C,g.sI),r(!1)}return(0,m.useEffect)(()=>{B()},[]),(0,i.jsxs)("div",{children:[(0,i.jsx)(A,{children:(0,i.jsx)(v.W,{translationKey:x.W.Admin.emojis})}),(0,i.jsx)(D,{children:(0,i.jsx)(v.W,{translationKey:x.W.Admin.emojiPageDescription})}),(0,i.jsx)(D,{children:(0,i.jsx)(v.W,{translationKey:x.W.Admin.emojiUploadBulkGuide})}),(0,i.jsx)("br",{}),(0,i.jsx)(u.Z,{name:"emoji",listType:"picture",className:"emoji-uploader",showUploadList:!1,accept:w.dr.join(","),beforeUpload:E,customRequest:V,disabled:o,children:(0,i.jsx)(s.Z,{type:"primary",disabled:o,children:(0,i.jsx)(v.W,{translationKey:x.W.Admin.uploadNewEmoji})})}),(0,i.jsx)(y.Z,{status:f}),(0,i.jsx)("br",{}),(0,i.jsx)(a.Z,{children:e.map(e=>(0,i.jsx)(l.Z,{style:{padding:"10px"},children:(0,i.jsx)(n.default,{style:{width:120,marginTop:16},actions:[],children:(0,i.jsx)(k,{description:[(0,i.jsxs)("div",{style:{display:"flex",justifyItems:"center",alignItems:"center",flexDirection:"column",gap:"20px"},children:[(0,i.jsx)(d.Z,{title:e.name,children:(0,i.jsx)(c.C,{style:{height:50,width:50},src:e.url})}),(0,i.jsx)(s.Z,{size:"small",type:"ghost",title:F(x.W.Admin.deleteEmoji),style:{position:"absolute",right:0,top:0,height:24,width:24,border:"none",color:"gray"},onClick:()=>M(e.url),icon:(0,i.jsx)(T,{})})]})]})})},e.name))}),(0,i.jsx)("br",{})]})};E.getLayout=function(e){return(0,i.jsx)(j.l,{page:e})},t.default=E},53278:function(e,t,o){"use strict";o.d(t,{W:function(){return i}});let i={Frontend:{chatOffline:"Chat is offline",chatDisabled:"Chat is disabled",chatWillBeAvailable:"Chat will be available when the stream is live",lastLiveAgo:"Last live ago",currentViewers:"Current viewers",maxViewers:"Max viewers this stream",noStreamActive:"No stream is active",healthyStream:"Healthy Stream",playbackHealth:"Playback Health",notify:"Notify",follow:"Follow",connected:"Connected",skipToPlayer:"Skip to player",skipToContent:"Skip to page content",skipToFooter:"Skip to footer",stayUpdated:"Stay updated!",fediverse:"Add your Owncast instance to the Fediverse",owncastDirectory:"Find an audience on the Owncast Directory",useBroadcastingSoftware:"Use your broadcasting software",embedVideo:"Embed your video onto other sites",helloWorld:"hello_world",notificationMessage:"notification_message",complexMessage:"complex_message",componentError:"component_error",BrowserNotifyModal:{unsupported:"browser_notify_unsupported",unsupportedLocal:"browser_notify_unsupported_local",iosTitle:"browser_notify_ios_title",iosDescription:"browser_notify_ios_description",iosShareButton:"browser_notify_ios_share_button",iosAddToHomeScreen:"browser_notify_ios_add_to_home_screen",iosAddButton:"browser_notify_ios_add_button",iosNameAndTap:"browser_notify_ios_name_and_tap",iosComeBack:"browser_notify_ios_come_back",iosAllowPrompt:"browser_notify_ios_allow_prompt",permissionWantsTo:"browser_notify_permission_wants_to",showNotifications:"browser_notify_show_notifications",allowButton:"browser_notify_allow_button",blockButton:"browser_notify_block_button",enabledTitle:"browser_notify_enabled_title",enabledDescription:"browser_notify_enabled_description",deniedTitle:"browser_notify_denied_title",deniedDescription:"browser_notify_denied_description",mainDescription:"browser_notify_main_description",learnMore:"browser_notify_learn_more",errorTitle:"browser_notify_error_title",errorMessage:"browser_notify_error_message"},offlineBasic:"offline_basic",offlineNotifyOnly:"offline_notify_only",offlineFediverseOnly:"offline_fediverse_only",offlineNotifyAndFediverse:"offline_notify_and_fediverse"},Admin:{emojis:"Emojis",emojiPageDescription:"Here you can upload new custom emojis for usage in the chat. When uploading a new emoji, the filename without extension will be used as emoji name. Additionally, emoji names are case-insensitive. For best results, ensure all emoji have unique names.",emojiUploadBulkGuide:'Want to upload custom emojis in bulk? Check out our <a href="https://owncast.online/docs/chat/emoji" rel="noopener noreferrer" target="_blank">Emoji guide</a>.',uploadNewEmoji:"Upload new emoji",deleteEmoji:"Delete emoji",settings:"settings",overriddenViaCommandLine:"Overridden via command line",Chat:{moderationMessagesSent:"Admin.Chat.moderationMessagesSent",moderationMessagesSent_one:"Admin.Chat.moderationMessagesSent_one"},EditInstanceDetails:{offlineMessageDescription:"Admin.EditInstanceDetails.offlineMessageDescription",directoryDescription:"Admin.EditInstanceDetails.directoryDescription",serverUrlRequiredForDirectory:"Admin.EditInstanceDetails.serverUrlRequiredForDirectory"},VideoVariantForm:{bitrateDisabledPassthrough:"Admin.VideoVariantForm.bitrateDisabledPassthrough",bitrateValueKbps:"Admin.VideoVariantForm.bitrateValueKbps",bitrateGoodForSlow:"Admin.VideoVariantForm.bitrateGoodForSlow",bitrateGoodForMost:"Admin.VideoVariantForm.bitrateGoodForMost",bitrateGoodForHigh:"Admin.VideoVariantForm.bitrateGoodForHigh"},info:"Info",warning:"Warning",error:"Error",level:"Level",timestamp:"Timestamp",message:"Message",logs:"Logs"},Common:{yes:"Yes",no:"No",documentation:"Documentation",contribute:"Contribute",source:"Source",poweredByOwncast:"Powered by Owncast",poweredByOwncastVersion:"powered_by_owncast_version"},Testing:{testing:"testing_string",another:"another_test",simpleKey:"Testing.simpleKey",itemCount:"Testing.itemCount",messageCount:"Testing.messageCount",noPluralKey:"Testing.noPluralKey"}}},35329:function(e,t,o){"use strict";o.d(t,{Z7:function(){return i},dr:function(){return n},kR:function(){return s},y3:function(){return r}});let i=2097152,n=["image/png","image/jpeg","image/gif"];function r(e,t){let o=new FileReader;o.addEventListener("load",()=>t(o.result)),o.readAsDataURL(e)}function s(e){let t=Math.floor(Math.log(e)/Math.log(1024)),o=1*Number((e/Math.pow(1024,t)).toFixed(2));return"".concat(o," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}}},function(e){e.O(0,[3247,83,1287,8920,7786,443,9904,3657,2502,3093,7039,9307,1674,6356,1616,5889,3064,2888,9774,179],function(){return e(e.s=10887)}),_N_E=e.O()}]);