(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1774],{23426:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/logs",function(){return t(8451)}])},54495:function(e,n,t){"use strict";t.d(n,{o:function(){return v}});var r=t(85893),l=t(67294),c=t(23657),o=t(91624),a=t(27043),i=t(53731),s=t(12642),u=t(37039);let{Title:f}=c.default;function d(e,n){let t="black";return"warning"===n.level?t="orange":"error"===n.level&&(t="red"),(0,r.jsx)(o.Z,{color:t,children:e})}function p(e){return(0,r.jsx)(i.Z,{children:e})}let v=e=>{let{logs:n,initialPageSize:t}=e,{t:c}=(0,u.$G)(),[o,i]=(0,l.useState)(t);if(!(null==n?void 0:n.length))return null;let v=[{title:c("Level"),dataIndex:"level",key:"level",filters:[{text:c("Info"),value:"info"},{text:c("Warning"),value:"warning"},{text:c("Error"),value:"Error"}],onFilter:(e,n)=>0===n.level.indexOf(e),render:d},{title:c("Timestamp"),dataIndex:"time",key:"time",render:e=>{let n=new Date(e);return(0,s.WU)(n,"pp P")},sorter:(e,n)=>new Date(e.time).getTime()-new Date(n.time).getTime(),sortDirections:["descend","ascend"],defaultSortOrder:"descend"},{title:c("Message"),dataIndex:"message",key:"message",render:p}];return(0,r.jsxs)("div",{className:"logs-section",children:[(0,r.jsx)(f,{children:c("Logs")}),(0,r.jsx)(a.Z,{size:"middle",dataSource:n,columns:v,rowKey:e=>e.time,pagination:{pageSize:o},onChange:e=>{i(e.pageSize)}})]})}},64773:function(e,n,t){"use strict";t.d(n,{Z:function(){return c}});var r=t(97685),l=t(67294);function c(){var e=l.useReducer(function(e){return e+1},0);return(0,r.Z)(e,2)[1]}},23061:function(e,n,t){"use strict";var r=t(67294),l=t(64773),c=t(98947);n.Z=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,r.useRef)({}),t=(0,l.Z)();return(0,r.useEffect)(function(){var r=c.ZP.subscribe(function(r){n.current=r,e&&t()});return function(){return c.ZP.unsubscribe(r)}},[]),n.current}},91624:function(e,n,t){"use strict";t.d(n,{Z:function(){return h}});var r=t(4942),l=t(87462),c=t(97685),o=t(69156),a=t(93967),i=t.n(a),s=t(97485),u=t(67294),f=t(17399),d=t(22781),p=t(51964),v=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>n.indexOf(r)&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>n.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(t[r[l]]=e[r[l]]);return t},g=function(e,n){var t={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&0>n.indexOf(r)&&(t[r]=e[r]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,r=Object.getOwnPropertySymbols(e);l<r.length;l++)0>n.indexOf(r[l])&&Object.prototype.propertyIsEnumerable.call(e,r[l])&&(t[r[l]]=e[r[l]]);return t},m=new RegExp("^(".concat(d.Y.join("|"),")(-inverse)?$")),b=new RegExp("^(".concat(d.E.join("|"),")$")),y=u.forwardRef(function(e,n){var t=e.prefixCls,a=e.className,d=e.style,v=e.children,y=e.icon,h=e.color,x=e.onClose,E=e.closeIcon,C=e.closable,Z=g(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),w=u.useContext(f.E_),O=w.getPrefixCls,k=w.direction,j=u.useState(!0),P=(0,c.Z)(j,2),N=P[0],_=P[1];u.useEffect(function(){"visible"in Z&&_(Z.visible)},[Z.visible]);var I=function(){return!!h&&(m.test(h)||b.test(h))},S=(0,l.Z)({backgroundColor:h&&!I()?h:void 0},d),T=I(),R=O("tag",t),D=i()(R,(0,r.Z)((0,r.Z)((0,r.Z)((0,r.Z)({},"".concat(R,"-").concat(h),T),"".concat(R,"-has-color"),h&&!T),"".concat(R,"-hidden"),!N),"".concat(R,"-rtl"),"rtl"===k),a),z=function(e){e.stopPropagation(),null==x||x(e),!e.defaultPrevented&&("visible"in Z||_(!1))},L="onClick"in Z||v&&"a"===v.type,$=(0,s.Z)(Z,["visible"]),F=y||null,G=F?u.createElement(u.Fragment,null,F,u.createElement("span",null,v)):v,W=u.createElement("span",(0,l.Z)({},$,{ref:n,className:D,style:S}),G,void 0!==C&&C?E?u.createElement("span",{className:"".concat(R,"-close-icon"),onClick:z},E):u.createElement(o.Z,{className:"".concat(R,"-close-icon"),onClick:z}):null);return L?u.createElement(p.Z,null,W):W});y.CheckableTag=function(e){var n=e.prefixCls,t=e.className,c=e.checked,o=e.onChange,a=e.onClick,s=v(e,["prefixCls","className","checked","onChange","onClick"]),d=(0,u.useContext(f.E_).getPrefixCls)("tag",n),p=i()(d,(0,r.Z)((0,r.Z)({},"".concat(d,"-checkable"),!0),"".concat(d,"-checkable-checked"),c),t);return u.createElement("span",(0,l.Z)({},s,{className:p,onClick:function(e){null==o||o(!c),null==a||a(e)}}))};var h=y},8451:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return i}});var r=t(85893),l=t(67294),c=t(54495),o=t(11992),a=t(25889);function i(){let[e,n]=(0,l.useState)([]),t=async()=>{try{let e=await (0,o.rQ)(o.sG);n(e)}catch(e){console.log("==== error",e)}};return(0,l.useEffect)(()=>{let e=null;return setInterval(t,5e3),t(),e=setInterval(t,5e3),()=>{clearInterval(e)}},[]),(0,r.jsx)(c.o,{logs:e,initialPageSize:20})}i.getLayout=function(e){return(0,r.jsx)(a.l,{page:e})}}},function(e){e.O(0,[83,1287,8920,7786,443,9904,3657,2502,3093,7528,9532,449,7043,7039,4065,2642,3731,5889,3064,2888,9774,179],function(){return e(e.s=23426)}),_N_E=e.O()}]);