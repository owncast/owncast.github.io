(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1591],{42011:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-chat",function(){return t(9267)}])},78021:function(e,n,t){"use strict";var a=t(78235);n.Z=a.Z},10227:function(e,n,t){"use strict";var a=t(79338);n.Z=a.Z},59633:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var a=t(87462),l=t(4942),s=t(72034),c=t(93967),o=t.n(c),r=t(97685),i=t(45987),d=t(67294),u=t(22720),f=t(77524),h=d.forwardRef(function(e,n){var t,a=e.prefixCls,s=void 0===a?"rc-switch":a,c=e.className,h=e.checked,m=e.defaultChecked,g=e.disabled,b=e.loadingIcon,p=e.checkedChildren,v=e.unCheckedChildren,C=e.onClick,x=e.onChange,N=e.onKeyDown,E=(0,i.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,u.Z)(!1,{value:h,defaultValue:m}),Z=(0,r.Z)(k,2),y=Z[0],j=Z[1];function w(e,n){var t=y;return g||(j(t=e),null==x||x(t,n)),t}var O=o()(s,c,(t={},(0,l.Z)(t,"".concat(s,"-checked"),y),(0,l.Z)(t,"".concat(s,"-disabled"),g),t));return d.createElement("button",Object.assign({},E,{type:"button",role:"switch","aria-checked":y,disabled:g,className:O,ref:n,onKeyDown:function(e){e.which===f.Z.LEFT?w(!1,e):e.which===f.Z.RIGHT&&w(!0,e),null==N||N(e)},onClick:function(e){var n=w(!y,e);null==C||C(n,e)}}),b,d.createElement("span",{className:"".concat(s,"-inner")},y?p:v))});h.displayName="Switch";var m=t(17399),g=t(92933),b=t(23173),p=t(51964),v=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>n.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]]);return t},C=d.forwardRef(function(e,n){var t=e.prefixCls,c=e.size,r=e.disabled,i=e.loading,u=e.className,f=v(e,["prefixCls","size","disabled","loading","className"]),C=d.useContext(m.E_),x=C.getPrefixCls,N=C.direction,E=d.useContext(b.Z),k=d.useContext(g.Z),Z=(null!=r?r:k)||i,y=x("switch",t),j=d.createElement("div",{className:"".concat(y,"-handle")},i&&d.createElement(s.Z,{className:"".concat(y,"-loading-icon")})),w=o()((0,l.Z)((0,l.Z)((0,l.Z)({},"".concat(y,"-small"),"small"===(c||E)),"".concat(y,"-loading"),i),"".concat(y,"-rtl"),"rtl"===N),void 0===u?"":u);return d.createElement(p.Z,{insertExtraNode:!0},d.createElement(h,(0,a.Z)({},f,{prefixCls:y,className:w,disabled:Z,ref:n,loadingIcon:j})))});C.__ANT_SWITCH=!0;var x=C},91624:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var a=t(4942),l=t(87462),s=t(97685),c=t(69156),o=t(93967),r=t.n(o),i=t(97485),d=t(67294),u=t(17399),f=t(22781),h=t(51964),m=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>n.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]]);return t},g=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>n.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]]);return t},b=new RegExp("^(".concat(f.Y.join("|"),")(-inverse)?$")),p=new RegExp("^(".concat(f.E.join("|"),")$")),v=d.forwardRef(function(e,n){var t=e.prefixCls,o=e.className,f=e.style,m=e.children,v=e.icon,C=e.color,x=e.onClose,N=e.closeIcon,E=e.closable,k=g(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Z=d.useContext(u.E_),y=Z.getPrefixCls,j=Z.direction,w=d.useState(!0),O=(0,s.Z)(w,2),S=O[0],U=O[1];d.useEffect(function(){"visible"in k&&U(k.visible)},[k.visible]);var _=function(){return!!C&&(b.test(C)||p.test(C))},P=(0,l.Z)({backgroundColor:C&&!_()?C:void 0},f),I=_(),T=y("tag",t),D=r()(T,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},"".concat(T,"-").concat(C),I),"".concat(T,"-has-color"),C&&!I),"".concat(T,"-hidden"),!S),"".concat(T,"-rtl"),"rtl"===j),o),M=function(e){e.stopPropagation(),null==x||x(e),!e.defaultPrevented&&("visible"in k||U(!1))},A="onClick"in k||m&&"a"===m.type,R=(0,i.Z)(k,["visible"]),F=v||null,z=F?d.createElement(d.Fragment,null,F,d.createElement("span",null,m)):m,J=d.createElement("span",(0,l.Z)({},R,{ref:n,className:D,style:P}),z,void 0!==E&&E?N?d.createElement("span",{className:"".concat(T,"-close-icon"),onClick:M},N):d.createElement(c.Z,{className:"".concat(T,"-close-icon"),onClick:M}):null);return A?d.createElement(h.Z,null,J):J});v.CheckableTag=function(e){var n=e.prefixCls,t=e.className,s=e.checked,c=e.onChange,o=e.onClick,i=m(e,["prefixCls","className","checked","onChange","onClick"]),f=(0,d.useContext(u.E_).getPrefixCls)("tag",n),h=r()(f,(0,a.Z)((0,a.Z)({},"".concat(f,"-checkable"),!0),"".concat(f,"-checkable-checked"),s),t);return d.createElement("span",(0,l.Z)({},i,{className:h,onClick:function(e){null==c||c(!s),null==o||o(e)}}))};var C=v},9267:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var a=t(85893),l=t(23657),s=t(10227),c=t(78021),o=t(67294),r=t(25510),i=t(18063),d=t(22067),u=t(36981),f=t(28700),h=t(70869),m=t(4481),g=t(25889);function b(){var e;let{Title:n}=l.default,[t,g]=(0,o.useState)(null),[b,p]=(0,o.useState)(null),[v,C]=(0,o.useState)(null),{serverConfig:x,setFieldInConfigState:N}=(0,o.useContext)(m.a)||{},{chatDisabled:E,chatJoinMessagesEnabled:k,forbiddenUsernames:Z,instanceDetails:y,suggestedUsernames:j,chatEstablishedUserMode:w,chatSpamProtectionEnabled:O,chatSlurFilterEnabled:S}=x,{welcomeMessage:U}=y,_=e=>{let{fieldName:n,value:a}=e;g({...t,[n]:a})};function P(){p(null)}function I(){(0,h.Si)({apiPath:h.CJ,data:{value:t.forbiddenUsernames},onSuccess:()=>{N({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),p((0,f.kg)(f.zv)),setTimeout(P,h.sI)},onError:e=>{p((0,f.kg)(f.Un,e)),setTimeout(P,h.sI)}})}function T(){C(null)}function D(){(0,h.Si)({apiPath:h.cf,data:{value:t.suggestedUsernames},onSuccess:()=>{N({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),C((0,f.kg)(f.zv)),setTimeout(T,h.sI)},onError:e=>{p((0,f.kg)(f.Un,e)),setTimeout(T,h.sI)}})}return((0,o.useEffect)(()=>{g({chatDisabled:E,chatJoinMessagesEnabled:k,forbiddenUsernames:Z,suggestedUsernames:j,welcomeMessage:U,chatEstablishedUserMode:w,chatSpamProtectionEnabled:O,chatSlurFilterEnabled:S})},[x]),t)?(0,a.jsxs)("div",{className:"config-server-details-form",children:[(0,a.jsx)(n,{children:"Chat Settings"}),(0,a.jsxs)(s.Z,{gutter:[45,16],children:[(0,a.jsx)(c.Z,{md:24,lg:12,children:(0,a.jsxs)("div",{className:"form-module",children:[(0,a.jsx)(d.Z,{fieldName:"chatDisabled",...h.yj,checked:!t.chatDisabled,reversed:!0,onChange:function(e){_({fieldName:"chatDisabled",value:!e})}}),(0,a.jsx)(d.Z,{fieldName:"chatJoinMessagesEnabled",...h.kB,checked:t.chatJoinMessagesEnabled,onChange:function(e){_({fieldName:"chatJoinMessagesEnabled",value:e})}}),(0,a.jsx)(i.$7,{fieldName:"welcomeMessage",...h.IX,type:r.Sk,value:t.welcomeMessage,initialValue:U,onChange:_}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Y,{title:h.Dg.label,placeholder:h.Dg.placeholder,description:h.Dg.tip,values:t.forbiddenUsernames,handleDeleteIndex:function(e){t.forbiddenUsernames.splice(e,1),I()},handleCreateString:function(e){t.forbiddenUsernames.push(e),_({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),I()},submitStatus:b}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(u.Y,{title:h.AN.label,placeholder:h.AN.placeholder,description:h.AN.tip,values:t.suggestedUsernames,handleDeleteIndex:function(e){t.suggestedUsernames.splice(e,1),D()},handleCreateString:function(e){t.suggestedUsernames.push(e),_({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),D()},submitStatus:v,continuousStatusMessage:0===(e=t.suggestedUsernames.length)?(0,f.kg)("success",h.AN.no_entries):e>0&&e<10?(0,f.kg)("warning",h.AN.min_not_reached):null})]})}),(0,a.jsx)(c.Z,{md:24,lg:12,children:(0,a.jsxs)("div",{className:"form-module",children:[(0,a.jsx)(d.Z,{fieldName:"chatSpamProtectionEnabled",...h.U5,checked:t.chatSpamProtectionEnabled,onChange:function(e){_({fieldName:"chatSpamProtectionEnabled",value:e})}}),(0,a.jsx)(d.Z,{fieldName:"chatEstablishedUserMode",...h.dj,checked:t.chatEstablishedUserMode,onChange:function(e){_({fieldName:"chatEstablishedUserMode",value:e})}}),(0,a.jsx)(d.Z,{fieldName:"chatSlurFilterEnabled",...h.T_,checked:t.chatSlurFilterEnabled,onChange:function(e){_({fieldName:"chatSlurFilterEnabled",value:e})}})]})})]})]}):null}b.getLayout=function(e){return(0,a.jsx)(g.l,{page:e})}}},function(e){e.O(0,[83,1287,8920,7786,443,9904,3657,2502,3093,7039,1882,5889,3005,2888,9774,179],function(){return e(e.s=42011)}),_N_E=e.O()}]);