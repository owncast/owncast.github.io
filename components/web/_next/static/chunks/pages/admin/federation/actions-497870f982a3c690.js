(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4976],{10203:function(t,n,e){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/federation/actions",function(){return e(57679)}])},64773:function(t,n,e){"use strict";e.d(n,{Z:function(){return o}});var r=e(97685),c=e(67294);function o(){var t=c.useReducer(function(t){return t+1},0);return(0,r.Z)(t,2)[1]}},23061:function(t,n,e){"use strict";var r=e(67294),c=e(64773),o=e(98947);n.Z=function(){var t=!(arguments.length>0)||void 0===arguments[0]||arguments[0],n=(0,r.useRef)({}),e=(0,c.Z)();return(0,r.useEffect)(function(){var r=o.ZP.subscribe(function(r){n.current=r,t&&e()});return function(){return o.ZP.unsubscribe(r)}},[]),n.current}},57679:function(t,n,e){"use strict";e.r(n),e.d(n,{default:function(){return h}});var r=e(85893),c=e(67294),o=e(23657),a=e(27043),u=e(12642),i=e(11992),s=e(74040),f=e(25889);let{Title:l,Paragraph:d}=o.default;function h(){let[t,n]=(0,c.useState)([]),[e,o]=(0,c.useState)(0),[f,h]=(0,c.useState)(0),w=async()=>{try{let t="".concat(i.op,"?offset=").concat(50*f,"&limit=").concat(50),{results:e,total:r}=await (0,i.rQ)(t,{auth:!0});o(r),(0,s.Qr)(e)?n([]):n(e)}catch(t){console.log("==== error",t)}};(0,c.useEffect)(()=>{w()},[f]);let E=[{title:"Action",dataIndex:"type",key:"type",width:50,render:(t,n)=>{let e,c;switch(n.type){case"FEDIVERSE_ENGAGEMENT_REPOST":e="/img/repost.svg",c="Share";break;case"FEDIVERSE_ENGAGEMENT_LIKE":e="/img/like.svg",c="Like";break;case"FEDIVERSE_ENGAGEMENT_FOLLOW":e="/img/follow.svg",c="Follow";break;default:e=""}return(0,r.jsxs)("div",{style:{width:"100%",height:"100%",display:"flex",alignItems:"center",justifyContent:"center",flexDirection:"column"},children:[(0,r.jsx)("img",{src:e,width:"70%",alt:c,title:c}),(0,r.jsx)("div",{style:{fontSize:"0.7rem"},children:c})]})}},{title:"From",dataIndex:"actorIRI",key:"from",render:(t,n)=>(0,r.jsx)("a",{href:n.actorIRI,children:n.actorIRI})},{title:"When",dataIndex:"timestamp",key:"timestamp",render:(t,n)=>{let e=new Date(n.timestamp);return(0,u.WU)(e,"P pp")}}];return(0,r.jsxs)("div",{children:[(0,r.jsx)(l,{level:3,children:"Fediverse Actions"}),(0,r.jsx)(d,{children:"Below is a list of actions that were taken by others in response to your posts as well as people who requested to follow you."}),(0,r.jsx)(a.Z,{dataSource:t,columns:E,size:"small",rowKey:t=>t.iri,pagination:{pageSize:50,hideOnSinglePage:!0,showSizeChanger:!1,total:e},onChange:t=>{h(t.current)}})]})}h.getLayout=function(t){return(0,r.jsx)(f.l,{page:t})}},11992:function(t,n,e){"use strict";e.d(n,{$i:function(){return O},$l:function(){return U},Bu:function(){return g},E8:function(){return B},Ff:function(){return x},GC:function(){return v},GR:function(){return $},HP:function(){return F},IO:function(){return G},Kp:function(){return E},Kt:function(){return V},M_:function(){return P},N$:function(){return Z},NE:function(){return s},NM:function(){return p},Q_:function(){return f},Qc:function(){return j},RB:function(){return y},UJ:function(){return z},WB:function(){return u},WE:function(){return I},WQ:function(){return N},Wr:function(){return R},XA:function(){return T},Y9:function(){return D},a_:function(){return w},ao:function(){return d},bl:function(){return l},e_:function(){return C},hn:function(){return S},iG:function(){return M},iV:function(){return h},jr:function(){return _},kb:function(){return L},kg:function(){return X},ms:function(){return A},nx:function(){return b},op:function(){return W},qk:function(){return m},rQ:function(){return K},sG:function(){return k},um:function(){return Q}});var r=e(34155);let c=e(71312),o=r.env.NEXT_PUBLIC_ADMIN_USERNAME,a=r.env.NEXT_PUBLIC_ADMIN_STREAMKEY,u="/",i="".concat(u,"api/admin/"),s=15e3,f="".concat(i,"status"),l="".concat(i,"serverconfig"),d="".concat(i,"config"),h="".concat(i,"viewersOverTime"),w="".concat(i,"viewers"),E="".concat(i,"chat/clients"),m="".concat(i,"chat/users/disabled"),p="".concat(i,"chat/users/setenabled"),g="".concat(i,"chat/users/ipbans"),y="".concat(i,"chat/users/ipbans/remove"),_="".concat(i,"chat/users/setmoderator"),v="".concat(i,"chat/users/moderators"),b="".concat(i,"hardwarestats"),k="".concat(i,"logs"),N="".concat(i,"logs/warnings"),I="".concat(i,"chat/messages"),S="/api/admin/chat/messagevisibility",j="".concat(i,"emoji/upload"),x="".concat(i,"emoji/delete"),A="".concat(i,"accesstokens"),R="".concat(i,"accesstokens/delete"),G="".concat(i,"accesstokens/create"),T="".concat(i,"webhooks"),P="".concat(i,"webhooks/delete"),M="".concat(i,"webhooks/create"),O="".concat(u,"api/socialplatforms"),C="".concat(i,"federation/send"),F="".concat(i,"followers"),B="".concat(i,"followers/pending"),D="".concat(i,"followers/blocked"),L="".concat(i,"followers/approve"),W="".concat(i,"federation/actions"),Z="".concat(i,"metrics/video"),Q="".concat(i,"config/streamkeys"),z="".concat(i,"yp/reset");async function K(t,n){let{data:e,method:r="GET",auth:c=!0}=n||{},u={method:r};if(e&&(u.body=JSON.stringify(e)),c&&o&&a){let t=btoa("".concat(o,":").concat(a));u.headers={Authorization:"Basic ".concat(t)},u.mode="cors",u.credentials="include"}let i=await fetch(t,u),s=await i.json();if(!i.ok)throw Error(s.message||"An error has occurred: ".concat(i.status));return s}async function U(t,n){return K(t,{method:"GET",auth:!1,...n})}async function X(t){try{let n=await fetch(t,{referrerPolicy:"no-referrer",referrer:""});if(!n.ok){let t="An error has occured: ".concat(n.status);throw Error(t)}return await n.json()}catch(t){console.log(t)}return{}}async function V(){return X("https://api.github.com/repos/owncast/owncast/releases/latest")}async function $(t){let n=(await V()).tag_name;return("v"===n.substr(0,1)&&(n=n.substr(1)),c(n,t))?n:null}}},function(t){t.O(0,[83,1287,8920,7786,443,9904,3657,2502,3093,7528,9532,449,7043,4065,2642,5889,2888,9774,179],function(){return t(t.s=10203)}),_N_E=t.O()}]);