(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[9882],{26562:function(e,o,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/access-tokens",function(){return n(38126)}])},11660:function(e,o,n){"use strict";n.d(o,{W:function(){return r}});var t=n(85893);n(67294);var i=n(37039);let r=e=>{let o,{translationKey:n,vars:r,className:s,id:a,defaultText:l,count:d}=e,{t:c}=(0,i.$G)(),m=void 0!==d?{...r,count:d}:r;if(void 0!==d){if(1===d){let e="".concat(n,"_one");(o=c(e,m))===e&&(o=c(n,m))}else o=c(n,m)}else o=c(n,m);if(o===n&&l)for(let[e,n]of(o=l,Object.entries(m||{}))){let t=RegExp("{{\\s*".concat(e,"\\s*}}"),"g");o=o.replace(t,String(n))}return(0,t.jsx)("span",{className:s,id:a,dangerouslySetInnerHTML:{__html:o}})};o.Z=r},64773:function(e,o,n){"use strict";n.d(o,{Z:function(){return r}});var t=n(97685),i=n(67294);function r(){var e=i.useReducer(function(e){return e+1},0);return(0,t.Z)(e,2)[1]}},78021:function(e,o,n){"use strict";var t=n(78235);o.Z=t.Z},23061:function(e,o,n){"use strict";var t=n(67294),i=n(64773),r=n(98947);o.Z=function(){var e=!(arguments.length>0)||void 0===arguments[0]||arguments[0],o=(0,t.useRef)({}),n=(0,i.Z)();return(0,t.useEffect)(function(){var t=r.ZP.subscribe(function(t){o.current=t,e&&n()});return function(){return r.ZP.unsubscribe(t)}},[]),o.current}},10227:function(e,o,n){"use strict";var t=n(79338);o.Z=t.Z},91624:function(e,o,n){"use strict";n.d(o,{Z:function(){return y}});var t=n(4942),i=n(87462),r=n(97685),s=n(69156),a=n(93967),l=n.n(a),d=n(97485),c=n(67294),m=n(17399),u=n(22781),p=n(51964),f=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>o.indexOf(t)&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)0>o.indexOf(t[i])&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n},A=function(e,o){var n={};for(var t in e)Object.prototype.hasOwnProperty.call(e,t)&&0>o.indexOf(t)&&(n[t]=e[t]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var i=0,t=Object.getOwnPropertySymbols(e);i<t.length;i++)0>o.indexOf(t[i])&&Object.prototype.propertyIsEnumerable.call(e,t[i])&&(n[t[i]]=e[t[i]]);return n},h=new RegExp("^(".concat(u.Y.join("|"),")(-inverse)?$")),w=new RegExp("^(".concat(u.E.join("|"),")$")),g=c.forwardRef(function(e,o){var n=e.prefixCls,a=e.className,u=e.style,f=e.children,g=e.icon,y=e.color,b=e.onClose,F=e.closeIcon,k=e.closable,T=A(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),v=c.useContext(m.E_),M=v.getPrefixCls,N=v.direction,S=c.useState(!0),C=(0,r.Z)(S,2),x=C[0],j=C[1];c.useEffect(function(){"visible"in T&&j(T.visible)},[T.visible]);var E=function(){return!!y&&(h.test(y)||w.test(y))},H=(0,i.Z)({backgroundColor:y&&!E()?y:void 0},u),B=E(),P=M("tag",n),V=l()(P,(0,t.Z)((0,t.Z)((0,t.Z)((0,t.Z)({},"".concat(P,"-").concat(y),B),"".concat(P,"-has-color"),y&&!B),"".concat(P,"-hidden"),!x),"".concat(P,"-rtl"),"rtl"===N),a),D=function(e){e.stopPropagation(),null==b||b(e),!e.defaultPrevented&&("visible"in T||j(!1))},O="onClick"in T||f&&"a"===f.type,I=(0,d.Z)(T,["visible"]),Z=g||null,W=Z?c.createElement(c.Fragment,null,Z,c.createElement("span",null,f)):f,U=c.createElement("span",(0,i.Z)({},I,{ref:o,className:V,style:H}),W,void 0!==k&&k?F?c.createElement("span",{className:"".concat(P,"-close-icon"),onClick:D},F):c.createElement(s.Z,{className:"".concat(P,"-close-icon"),onClick:D}):null);return O?c.createElement(p.Z,null,U):U});g.CheckableTag=function(e){var o=e.prefixCls,n=e.className,r=e.checked,s=e.onChange,a=e.onClick,d=f(e,["prefixCls","className","checked","onChange","onClick"]),u=(0,c.useContext(m.E_).getPrefixCls)("tag",o),p=l()(u,(0,t.Z)((0,t.Z)({},"".concat(u,"-checkable"),!0),"".concat(u,"-checkable-checked"),r),n);return c.createElement("span",(0,i.Z)({},d,{className:p,onClick:function(e){null==s||s(!r),null==a||a(e)}}))};var y=g},38126:function(e,o,n){"use strict";n.r(o);var t=n(85893),i=n(67294),r=n(23657),s=n(8968),a=n(91624),l=n(78021),d=n(72370),c=n(77786),m=n(20133),u=n(10227),p=n(56469),f=n(4116),A=n(27043),h=n(12642),w=n(5152),g=n.n(w),y=n(37039),b=n(11992),F=n(53278),k=n(11660),T=n(25889);let{Title:v,Paragraph:M}=r.default,N=g()(()=>Promise.all([n.e(3247),n.e(1506)]).then(n.t.bind(n,81506,23)),{loadableGenerated:{webpack:()=>[81506]},ssr:!1}),S={CAN_SEND_SYSTEM_MESSAGES:{name:"System messages",description:"Can send official messages on behalf of the system.",color:"purple"},CAN_SEND_MESSAGES:{name:"User chat messages",description:"Can send chat messages on behalf of the owner of this token.",color:"green"},HAS_ADMIN_ACCESS:{name:"Has admin access",description:"Can perform administrative actions such as moderation, get server statuses, etc.",color:"red"}},C=e=>{let{onOk:o,onCancel:n,open:r}=e,{t:s}=(0,y.$G)(),[a,f]=(0,i.useState)([]),[A,h]=(0,i.useState)(""),w=Object.keys(S).map(e=>({value:e,label:S[e].description})),g={disabled:0===a.length||""===A},b=w.map(e=>(0,t.jsx)(l.Z,{span:8,children:(0,t.jsx)(d.Z,{value:e.value,children:e.label})},e.value));return(0,t.jsxs)(c.default,{title:s(F.W.Admin.AccessTokens.createNewAccessToken),open:r,onOk:function(){o(A,a),f([]),h("")},onCancel:n,okButtonProps:g,children:[(0,t.jsxs)("p",{children:[(0,t.jsx)("p",{children:(0,t.jsx)(k.W,{translationKey:F.W.Admin.AccessTokens.nameDescription})}),(0,t.jsx)(m.default,{value:A,placeholder:s(F.W.Admin.AccessTokens.namePlaceholder),onChange:e=>h(e.currentTarget.value)})]}),(0,t.jsx)("p",{children:(0,t.jsx)(k.W,{translationKey:F.W.Admin.AccessTokens.selectPermissions})}),(0,t.jsx)(d.Z.Group,{style:{width:"100%"},value:a,onChange:function(e){f(e)},children:(0,t.jsx)(u.Z,{children:b})}),(0,t.jsx)("p",{children:(0,t.jsx)(p.Z,{type:"primary",onClick:function(){f(Object.keys(S))},children:(0,t.jsx)(k.W,{translationKey:F.W.Admin.AccessTokens.selectAll})})})]})},x=()=>{let[e,o]=(0,i.useState)([]),[n,r]=(0,i.useState)(!1);function l(e){console.error("error",e)}async function d(){try{let e=await (0,b.rQ)(b.ms);o(e)}catch(e){l(e)}}async function c(e){try{await (0,b.rQ)(b.Wr,{method:"POST",data:{token:e}}),d()}catch(e){l(e)}}async function u(n,t){try{let i=await (0,b.rQ)(b.IO,{method:"POST",data:{name:n,scopes:t}});o(e.concat(i))}catch(e){l(e)}}(0,i.useEffect)(()=>{d()},[]);let w=[{title:"",key:"delete",render:(e,o)=>(0,t.jsx)(f.Z,{size:"middle",children:(0,t.jsx)(p.Z,{onClick:()=>c(o.accessToken),icon:(0,t.jsx)(N,{})})})},{title:"Name",dataIndex:"displayName",key:"displayName"},{title:"Token",dataIndex:"accessToken",key:"accessToken",render:e=>(0,t.jsx)(m.default.Password,{size:"small",bordered:!1,value:e})},{title:"Scopes",dataIndex:"scopes",key:"scopes",render:e=>(0,t.jsx)(t.Fragment,{children:e.map(e=>(function(e){if(!e||!S[e])return null;let o=S[e];return(0,t.jsx)(s.Z,{title:o.description,children:(0,t.jsx)(a.Z,{color:o.color,children:o.name})},e)})(e))})},{title:"Last Used",dataIndex:"lastUsed",key:"lastUsed",render:e=>{if(!e)return"Never";let o=new Date(e);return(0,h.WU)(o,"P p")}}];return(0,t.jsxs)("div",{children:[(0,t.jsx)(v,{children:"Access Tokens"}),(0,t.jsx)(M,{children:"Access tokens are used to allow external, 3rd party tools to perform specific actions on your Owncast server. They should be kept secure and never included in client code, instead they should be kept on a server that you control."}),(0,t.jsxs)(M,{children:["Read more about how to use these tokens, with examples, at"," ",(0,t.jsx)("a",{href:"https://owncast.online/docs/integrations/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"our documentation"}),"."]}),(0,t.jsx)(A.Z,{rowKey:"token",columns:w,dataSource:e,pagination:!1}),(0,t.jsx)("br",{}),(0,t.jsx)(p.Z,{type:"primary",onClick:()=>{r(!0)},children:"Create Access Token"}),(0,t.jsx)(C,{open:n,onOk:(e,o)=>{r(!1),u(e,o)},onCancel:()=>{r(!1)}})]})};x.getLayout=function(e){return(0,t.jsx)(T.l,{page:e})},o.default=x},53278:function(e,o,n){"use strict";n.d(o,{W:function(){return t}});let t={Frontend:{chatOffline:"Chat is offline",chatDisabled:"Chat is disabled",chatWillBeAvailable:"Chat will be available when the stream is live",lastLiveAgo:"Last live {{timeAgo}} ago",currentViewers:"Current viewers",maxViewers:"Max viewers this stream",noStreamActive:"No stream is active",healthyStream:"Healthy Stream",playbackHealth:"Playback Health",notify:"Notify",follow:"Follow",connected:"Connected",skipToPlayer:"Skip to player",skipToContent:"Skip to page content",skipToFooter:"Skip to footer",stayUpdated:"Stay updated!",fediverse:"Add your Owncast instance to the Fediverse",owncastDirectory:"Find an audience on the Owncast Directory",useBroadcastingSoftware:"Use your broadcasting software",embedVideo:"Embed your video onto other sites",helloWorld:"Frontend.helloWorld",complexMessage:"Frontend.complexMessage",componentError:"Frontend.componentError",BrowserNotifyModal:{unsupported:"Frontend.BrowserNotifyModal.unsupported",unsupportedLocal:"Frontend.BrowserNotifyModal.unsupportedLocal",iosTitle:"Frontend.BrowserNotifyModal.iosTitle",iosDescription:"Frontend.BrowserNotifyModal.iosDescription",iosShareButton:"Frontend.BrowserNotifyModal.iosShareButton",iosAddToHomeScreen:"Frontend.BrowserNotifyModal.iosAddToHomeScreen",iosAddButton:"Frontend.BrowserNotifyModal.iosAddButton",iosNameAndTap:"Frontend.BrowserNotifyModal.iosNameAndTap",iosComeBack:"Frontend.BrowserNotifyModal.iosComeBack",iosAllowPrompt:"Frontend.BrowserNotifyModal.iosAllowPrompt",permissionWantsTo:"Frontend.BrowserNotifyModal.permissionWantsTo",showNotifications:"Frontend.BrowserNotifyModal.showNotifications",allowButton:"Frontend.BrowserNotifyModal.allowButton",blockButton:"Frontend.BrowserNotifyModal.blockButton",enabledTitle:"Frontend.BrowserNotifyModal.enabledTitle",enabledDescription:"Frontend.BrowserNotifyModal.enabledDescription",deniedTitle:"Frontend.BrowserNotifyModal.deniedTitle",deniedDescription:"Frontend.BrowserNotifyModal.deniedDescription",mainDescription:"Frontend.BrowserNotifyModal.mainDescription",learnMore:"Frontend.BrowserNotifyModal.learnMore",errorTitle:"Frontend.BrowserNotifyModal.errorTitle",errorMessage:"Frontend.BrowserNotifyModal.errorMessage"},NameChangeModal:{description:"Frontend.NameChangeModal.description",placeholder:"Frontend.NameChangeModal.placeholder",buttonText:"Frontend.NameChangeModal.buttonText",colorLabel:"Frontend.NameChangeModal.colorLabel",authInfo:"Frontend.NameChangeModal.authInfo",overLimit:"Frontend.NameChangeModal.overLimit"},Header:{skipToPlayer:"Frontend.Header.skipToPlayer",skipToOfflineMessage:"Frontend.Header.skipToOfflineMessage",skipToContent:"Frontend.Header.skipToContent",skipToFooter:"Frontend.Header.skipToFooter",chatWillBeAvailable:"Frontend.Header.chatWillBeAvailable",chatOffline:"Frontend.Header.chatOffline"},Footer:{documentation:"Frontend.Footer.documentation",contribute:"Frontend.Footer.contribute",source:"Frontend.Footer.source"},Chat:{userJoined:"Frontend.Chat.userJoined",userLeft:"Frontend.Chat.userLeft",nameChangeText:"Frontend.Chat.nameChangeText",moderatorNotification:"Frontend.Chat.moderatorNotification"},FollowModal:{description:"Frontend.FollowModal.description",learnFediverse:"Frontend.FollowModal.learnFediverse",newToYou:"Frontend.FollowModal.newToYou",instructions:"Frontend.FollowModal.instructions",placeholder:"Frontend.FollowModal.placeholder",redirectMessage:"Frontend.FollowModal.redirectMessage",joinFediverse:"Frontend.FollowModal.joinFediverse",followButton:"Frontend.FollowModal.followButton",followError:"Frontend.FollowModal.followError",unableToFollow:"Frontend.FollowModal.unableToFollow"},offlineBasic:"Frontend.offlineBasic",offlineNotifyOnly:"Frontend.offlineNotifyOnly",offlineFediverseOnly:"Frontend.offlineFediverseOnly",offlineNotifyAndFediverse:"Frontend.offlineNotifyAndFediverse"},Admin:{emojis:"Admin.emojis",emojiPageDescription:"Admin.emojiPageDescription",emojiUploadBulkGuide:"Admin.emojiUploadBulkGuide",uploadNewEmoji:"Admin.uploadNewEmoji",deleteEmoji:"Admin.deleteEmoji",settings:"Admin.settings",overriddenViaCommandLine:"Admin.overriddenViaCommandLine",Chat:{moderationMessagesSent:"Admin.Chat.moderationMessagesSent",moderationMessagesSent_one:"Admin.Chat.moderationMessagesSent_one"},EditInstanceDetails:{offlineMessageDescription:"Admin.EditInstanceDetails.offlineMessageDescription",directoryDescription:"Admin.EditInstanceDetails.directoryDescription",serverUrlRequiredForDirectory:"Admin.EditInstanceDetails.serverUrlRequiredForDirectory"},VideoVariantForm:{bitrateDisabledPassthrough:"Admin.VideoVariantForm.bitrateDisabledPassthrough",bitrateValueKbps:"Admin.VideoVariantForm.bitrateValueKbps",bitrateGoodForSlow:"Admin.VideoVariantForm.bitrateGoodForSlow",bitrateGoodForMost:"Admin.VideoVariantForm.bitrateGoodForMost",bitrateGoodForHigh:"Admin.VideoVariantForm.bitrateGoodForHigh"},HardwareInfo:{title:"Admin.HardwareInfo.title",pleaseWait:"Admin.HardwareInfo.pleaseWait",noDetails:"Admin.HardwareInfo.noDetails",cpu:"Admin.HardwareInfo.cpu",memory:"Admin.HardwareInfo.memory",disk:"Admin.HardwareInfo.disk",used:"Admin.HardwareInfo.used"},Help:{title:"Admin.Help.title",configureInstance:"Admin.Help.configureInstance",learnMore:"Admin.Help.learnMore",configureBroadcasting:"Admin.Help.configureBroadcasting",embedStream:"Admin.Help.embedStream",customizeWebsite:"Admin.Help.customizeWebsite",tweakVideo:"Admin.Help.tweakVideo",useStorage:"Admin.Help.useStorage",foundBug:"Admin.Help.foundBug",bugPlease:"Admin.Help.bugPlease",letUsKnow:"Admin.Help.letUsKnow",generalQuestion:"Admin.Help.generalQuestion",generalAnswered:"Admin.Help.generalAnswered",faq:"Admin.Help.faq",orExist:"Admin.Help.orExist",discussions:"Admin.Help.discussions",buildAddons:"Admin.Help.buildAddons",buildTools:"Admin.Help.buildTools",developerApis:"Admin.Help.developerApis",troubleshooting:"Admin.Help.troubleshooting",fixProblems:"Admin.Help.fixProblems",documentation:"Admin.Help.documentation",readDocs:"Admin.Help.readDocs",commonTasks:"Admin.Help.commonTasks",other:"Admin.Help.other"},LogTable:{level:"Admin.LogTable.level",info:"Admin.LogTable.info",warning:"Admin.LogTable.warning",error:"Admin.LogTable.error",timestamp:"Admin.LogTable.timestamp",message:"Admin.LogTable.message",logs:"Admin.LogTable.logs"},NewsFeed:{link:"Admin.NewsFeed.link",noNews:"Admin.NewsFeed.noNews",title:"Admin.NewsFeed.title"},ViewerInfo:{title:"Admin.ViewerInfo.title",currentStream:"Admin.ViewerInfo.currentStream",last12Hours:"Admin.ViewerInfo.last12Hours",last24Hours:"Admin.ViewerInfo.last24Hours",last7Days:"Admin.ViewerInfo.last7Days",last30Days:"Admin.ViewerInfo.last30Days",last3Months:"Admin.ViewerInfo.last3Months",last6Months:"Admin.ViewerInfo.last6Months",currentViewers:"Admin.ViewerInfo.currentViewers",maxViewersThisStream:"Admin.ViewerInfo.maxViewersThisStream",maxViewersLastStream:"Admin.ViewerInfo.maxViewersLastStream",maxViewers:"Admin.ViewerInfo.maxViewers",pleaseWait:"Admin.ViewerInfo.pleaseWait",noData:"Admin.ViewerInfo.noData",viewers:"Admin.ViewerInfo.viewers"},info:"Admin.info",warning:"Admin.warning",error:"Admin.error",level:"Admin.level",timestamp:"Admin.timestamp",message:"Admin.message",logs:"Admin.logs",StatusMessages:{updated:"Admin.StatusMessages.updated",tagsUpdated:"Admin.StatusMessages.tagsUpdated",variantsUpdated:"Admin.StatusMessages.variantsUpdated",videoCodecUpdated:"Admin.StatusMessages.videoCodecUpdated",latencyBufferUpdated:"Admin.StatusMessages.latencyBufferUpdated",deletingEmoji:"Admin.StatusMessages.deletingEmoji",emojiDeleted:"Admin.StatusMessages.emojiDeleted",convertingEmoji:"Admin.StatusMessages.convertingEmoji",uploadingEmoji:"Admin.StatusMessages.uploadingEmoji",emojiUploadedSuccessfully:"Admin.StatusMessages.emojiUploadedSuccessfully",thereWasAnError:"Admin.StatusMessages.thereWasAnError",fileSizeTooBig:"Admin.StatusMessages.fileSizeTooBig",fileTypeNotSupported:"Admin.StatusMessages.fileTypeNotSupported",pleaseEnterTag:"Admin.StatusMessages.pleaseEnterTag",tagAlreadyUsed:"Admin.StatusMessages.tagAlreadyUsed"},Actions:{title:"Admin.Actions.title",description:"Admin.Actions.description",readMoreLink:"Admin.Actions.readMoreLink",createNewAction:"Admin.Actions.createNewAction",createNewActionTitle:"Admin.Actions.createNewActionTitle",editActionTitle:"Admin.Actions.editActionTitle",modalDescription:"Admin.Actions.modalDescription",onlyHttpsSupported:"Admin.Actions.onlyHttpsSupported",readMoreAboutActions:"Admin.Actions.readMoreAboutActions",selectActionType:"Admin.Actions.selectActionType",linkOrEmbedUrl:"Admin.Actions.linkOrEmbedUrl",customHtml:"Admin.Actions.customHtml",htmlEmbedPlaceholder:"Admin.Actions.htmlEmbedPlaceholder",urlPlaceholder:"Admin.Actions.urlPlaceholder",titlePlaceholder:"Admin.Actions.titlePlaceholder",descriptionPlaceholder:"Admin.Actions.descriptionPlaceholder",iconPlaceholder:"Admin.Actions.iconPlaceholder",optionalBackgroundColor:"Admin.Actions.optionalBackgroundColor",openExternally:"Admin.Actions.openExternally"},Webhooks:{createNewWebhook:"Admin.Webhooks.createNewWebhook",webhookUrlPlaceholder:"Admin.Webhooks.webhookUrlPlaceholder",selectEvents:"Admin.Webhooks.selectEvents",selectAll:"Admin.Webhooks.selectAll"},AccessTokens:{createNewAccessToken:"Admin.AccessTokens.createNewAccessToken",nameDescription:"Admin.AccessTokens.nameDescription",namePlaceholder:"Admin.AccessTokens.namePlaceholder",selectPermissions:"Admin.AccessTokens.selectPermissions",cannotEditAfterCreated:"Admin.AccessTokens.cannotEditAfterCreated",selectAll:"Admin.AccessTokens.selectAll"}},Common:{poweredByOwncastVersion:"Common.poweredByOwncastVersion"},Testing:{testing:"testing_string",another:"another_test",simpleKey:"Testing.simpleKey",itemCount:"Testing.itemCount",messageCount:"Testing.messageCount",noPluralKey:"Testing.noPluralKey"}}}},function(e){e.O(0,[83,1287,8920,7786,443,9904,3657,2502,3093,7039,7528,9532,449,7043,4065,2642,1882,5889,2888,9774,179],function(){return e(e.s=26562)}),_N_E=e.O()}]);