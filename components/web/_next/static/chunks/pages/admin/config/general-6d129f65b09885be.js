(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1871],{39856:function(e,t,n){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config/general",function(){return n(89918)}])},36981:function(e,t,n){"use strict";n.d(t,{Q:function(){return d},Y:function(){return u}});var s=n(85893),a=n(67294),i=n(23657),o=n(91624),r=n(25510),l=n(17586);let{Title:c}=i.default,d="#5a67d8",u=e=>{let{title:t,description:n,placeholder:i,maxLength:u,values:m,handleDeleteIndex:h,handleCreateString:p,submitStatus:f,continuousStatusMessage:g}=e,[x,v]=(0,a.useState)("");return(0,s.jsxs)("div",{className:"edit-string-array-container",children:[(0,s.jsx)(c,{level:3,className:"section-title",children:t}),(0,s.jsx)("p",{className:"description",children:n}),(0,s.jsx)("div",{className:"edit-current-strings",children:null==m?void 0:m.map((e,t)=>(0,s.jsx)(o.Z,{closable:!0,onClose:()=>{h(t)},color:d,children:e},"tag-".concat(e,"-").concat(t)))}),g&&(0,s.jsx)("div",{className:"continuous-status-section",children:(0,s.jsx)(l.E,{status:g})}),(0,s.jsx)("div",{className:"add-new-string-section",children:(0,s.jsx)(r.nv,{fieldName:"string-input",value:x,onChange:e=>{let{value:t}=e;v(t)},onPressEnter:()=>{p(x.trim()),v("")},maxLength:u,placeholder:i,status:f})})]})};u.defaultProps={maxLength:50,description:null,submitStatus:null,continuousStatusMessage:null}},22067:function(e,t,n){"use strict";n.d(t,{Z:function(){return d}});var s=n(85893),a=n(67294),i=n(59633),o=n(28700),r=n(17586),l=n(70869),c=n(4481);let d=e=>{let{apiPath:t,checked:n,reversed:d=!1,configPath:u="",disabled:m=!1,fieldName:h,label:p,tip:f,useSubmit:g,onChange:x}=e,[v,j]=(0,a.useState)(null),y=null,{setFieldInConfigState:b}=(0,a.useContext)(c.a)||{},w=()=>{j(null),clearTimeout(y),y=null},k=async e=>{if(g){j((0,o.kg)(o.Jk));let n=d?!e:e;await (0,l.Si)({apiPath:t,data:{value:n},onSuccess:()=>{b({fieldName:h,value:n,path:u}),j((0,o.kg)(o.zv))},onError:e=>{j((0,o.kg)(o.Un,"There was an error: ".concat(e)))}}),y=setTimeout(w,l.sI)}x&&x(e)},N=null!==v&&v.type===o.Jk;return(0,s.jsxs)("div",{className:"formfield-container toggleswitch-container",children:[p&&(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:p})}),(0,s.jsxs)("div",{className:"input-side",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)(i.Z,{className:"switch field-".concat(h),loading:N,onChange:k,defaultChecked:n,checked:n,checkedChildren:"ON",unCheckedChildren:"OFF",disabled:m}),(0,s.jsx)(r.E,{status:v})]}),(0,s.jsx)("p",{className:"field-tip",children:f})]})]})};d.defaultProps={apiPath:"",checked:!1,reversed:!1,configPath:"",disabled:!1,label:"",tip:"",useSubmit:!1,onChange:null}},31512:function(e,t,n){"use strict";n.d(t,{Z:function(){return _}});var s=n(85893),a=n(67294),i=n(23657),o=n(56469),r=n(20133),l=n(27043),c=n(77786),d=n(5152),u=n.n(d),m=n(87528),h=n(70869);let p=e=>{let{iconList:t,selectedOption:n,onSelected:a}=e,i=""===n?null:n;return(0,s.jsxs)("div",{className:"social-dropdown-container",children:[(0,s.jsx)("p",{className:"description",children:"If you are looking for a platform name not on this list, please select Other and type in your own name. A logo will not be provided."}),(0,s.jsxs)("div",{className:"formfield-container",children:[(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:"Social Platform"})}),(0,s.jsx)("div",{className:"input-side",children:(0,s.jsxs)(m.default,{style:{width:240},className:"social-dropdown",placeholder:"Social platform...",defaultValue:i,value:i,onSelect:e=>{a&&a(e)},children:[t.map(e=>{let{platform:t,icon:n,key:a}=e;return(0,s.jsxs)(m.default.Option,{className:"social-option",value:a,children:[(0,s.jsx)("span",{className:"option-icon",children:(0,s.jsx)("img",{src:n,alt:"",className:"option-icon"})}),(0,s.jsx)("span",{className:"option-label",children:t})]},"platform-".concat(a))}),(0,s.jsx)(m.default.Option,{className:"social-option",value:h.z_,children:"Other..."},"platform-".concat(h.z_))]})})]})]})};var f=n(11992),g=n(4481),x=n(11),v=n(25510),j=n(28700),y=n(17586);let{Title:b}=i.default,w=u()(()=>Promise.all([n.e(3247),n.e(9036)]).then(n.t.bind(n,9036,23)),{loadableGenerated:{webpack:()=>[9036]},ssr:!1}),k=u()(()=>Promise.all([n.e(3247),n.e(3061)]).then(n.t.bind(n,93061,23)),{loadableGenerated:{webpack:()=>[93061]},ssr:!1}),N=u()(()=>Promise.all([n.e(3247),n.e(1506)]).then(n.t.bind(n,81506,23)),{loadableGenerated:{webpack:()=>[81506]},ssr:!1});function _(){var e,t;let[n,i]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,_]=(0,a.useState)(!1),[S,C]=(0,a.useState)(!1),[T,E]=(0,a.useState)(!1),[P,Z]=(0,a.useState)(-1),[D,O]=(0,a.useState)(h.wC),[A,I]=(0,a.useState)(null),{serverConfig:L,setFieldInConfigState:B}=(0,a.useContext)(g.a)||{},{instanceDetails:M}=L,{socialHandles:U}=M,F=async()=>{try{let e=await (0,f.rQ)(f.$i,{auth:!1}),t=Object.keys(e).map(t=>({key:t,...e[t]}));i(t)}catch(e){console.log(e)}},z=e=>n.find(t=>t.key===e)||!1,W=""!==D.platform&&!n.find(e=>e.key===D.platform);(0,a.useEffect)(()=>{F()},[]),(0,a.useEffect)(()=>{M.socialHandles&&u(U)},[M]);let R=()=>{I(null),clearTimeout(null)},J=()=>{_(!1),Z(-1),C(!1),E(!1),O({...h.wC})},V=()=>{J()},H=(e,t)=>{O({...D,[e]:t})},G=async e=>{m||I((0,j.kg)(j.Jk)),await (0,h.Si)({apiPath:h.c9,data:{value:e},onSuccess:()=>{B({fieldName:"socialHandles",value:e,path:"instanceDetails"}),E(!1),V(),I((0,j.kg)(j.zv)),setTimeout(R,h.sI)},onError:e=>{I((0,j.kg)(j.Un,"There was an error: ".concat(e))),E(!1),setTimeout(R,h.sI)}})},K=e=>{let t=[...d];t.splice(e,1),G(t)},Y=e=>{if(e<=0||e>=d.length)return;let t=[...d],n=t[e-1];t[e-1]=t[e],t[e]=n,G(t)},$=e=>{if(e<0||e>=d.length-1)return;let t=[...d],n=t[e+1];t[e+1]=t[e],t[e]=n,G(t)},q=[{title:"Social Link",dataIndex:"",key:"combo",render:(e,t)=>{let{platform:n,url:a}=t,i=z(n);if(!i)return(0,s.jsx)("div",{className:"social-handle-cell",children:(0,s.jsxs)("p",{className:"option-label",children:[(0,s.jsx)("strong",{children:n}),(0,s.jsx)("span",{className:"handle-url",title:a,children:a})]})});let{icon:o,platform:r}=i;return(0,s.jsxs)("div",{className:"social-handle-cell",children:[(0,s.jsx)("span",{className:"option-icon",children:(0,s.jsx)("img",{src:o,alt:"",className:"option-icon"})}),(0,s.jsxs)("p",{className:"option-label",children:[(0,s.jsx)("strong",{children:r}),(0,s.jsx)("span",{className:"handle-url",title:a,children:a})]})]})}},{title:"",dataIndex:"",key:"edit",render:(e,t,n)=>(0,s.jsxs)("div",{className:"actions",children:[(0,s.jsx)(o.Z,{size:"small",onClick:()=>{let e=d[n];Z(n),O({...e}),_(!0),z(e.platform)||C(!0)},children:"Edit"}),(0,s.jsx)(o.Z,{icon:(0,s.jsx)(k,{}),size:"small",hidden:0===n,onClick:()=>Y(n)}),(0,s.jsx)(o.Z,{icon:(0,s.jsx)(w,{}),size:"small",hidden:n===d.length-1,onClick:()=>$(n)}),(0,s.jsx)(o.Z,{className:"delete-button",icon:(0,s.jsx)(N,{}),size:"small",onClick:()=>K(n)})]})}],X={disabled:(e=D.url,!(""!==(t=D.platform)&&("xmpp"===t?(0,x.Kf)(e,"xmpp"):(0,x.jv)(e))))},Q=(0,s.jsxs)("div",{className:"other-field-container formfield-container",children:[(0,s.jsx)("div",{className:"label-side"}),(0,s.jsx)("div",{className:"input-side",children:(0,s.jsx)(r.default,{placeholder:"Other platform name",defaultValue:D.platform,onChange:e=>{let{value:t}=e.target;H("platform",t)}})})]});return(0,s.jsxs)("div",{className:"social-links-edit-container",children:[(0,s.jsx)(b,{level:3,className:"section-title",children:"Your Social Handles"}),(0,s.jsx)("p",{className:"description",children:"Add all your social media handles and links to your other profiles here."}),(0,s.jsx)(y.E,{status:A}),(0,s.jsx)(l.Z,{className:"social-handles-table",pagination:!1,size:"small",rowKey:e=>"".concat(e.platform,"-").concat(e.url),columns:q,dataSource:d}),(0,s.jsx)(c.default,{title:"Edit Social Handle",open:m,onOk:()=>{E(!0);let e=d.length?[...d]:[];-1===P?e.push(D):e.splice(P,1,D),G(e)},onCancel:V,confirmLoading:T,okButtonProps:X,children:(0,s.jsxs)("div",{className:"social-handle-modal-content",children:[(0,s.jsx)(p,{iconList:n,selectedOption:W?h.z_:D.platform,onSelected:e=>{e===h.z_?(C(!0),H("platform","")):(C(!1),H("platform",e))}}),S&&Q,(0,s.jsx)("br",{}),(0,s.jsx)(v.nv,{fieldName:"social-url",label:"URL",placeholder:{mastodon:"https://mastodon.social/@username",twitter:"https://twitter.com/username"}[D.platform]||"Url to page",value:D.url,onChange:e=>{let{value:t}=e;H("url",t)},useTrim:!0,type:"url",pattern:x.ax}),(0,s.jsx)(y.E,{status:A})]})}),(0,s.jsx)("br",{}),(0,s.jsx)(o.Z,{type:"primary",onClick:()=>{J(),_(!0)},children:"Add a new social link"})]})}},11660:function(e,t,n){"use strict";n.d(t,{W:function(){return i}});var s=n(85893);n(67294);var a=n(37039);let i=e=>{let t,{translationKey:n,vars:i,className:o,defaultText:r,count:l}=e,{t:c}=(0,a.$G)(),d=void 0!==l?{...i,count:l}:i;if(void 0!==l){if(1===l){let e="".concat(n,"_one");(t=c(e,d))===e&&(t=c(n,d))}else t=c(n,d)}else t=c(n,d);if(t===n&&r)for(let[e,n]of(t=r,Object.entries(d||{}))){let s=RegExp("{{\\s*".concat(e,"\\s*}}"),"g");t=t.replace(s,String(n))}return(0,s.jsx)("span",{className:o,dangerouslySetInnerHTML:{__html:t}})};t.Z=i},89918:function(e,t,n){"use strict";n.r(t),n.d(t,{default:function(){return em}});var s=n(85893),a=n(67294),i=n(89307),o=n(23657),r=n(77786),l=n(56469),c=n(48825),d=n(95089),u=n(58909),m=n(76538),h=n(18063),p=n(4481),f=n(70869),g=n(22067),x=n(82651),v=n(5152),j=n.n(v),y=n(17586),b=n(28700),w=n(11992),k=n(35329);let N=j()(()=>Promise.resolve().then(n.t.bind(n,63626,23)),{loadableGenerated:{webpack:()=>[63626]},ssr:!1}),_=j()(()=>n.e(2647).then(n.t.bind(n,72647,23)),{loadableGenerated:{webpack:()=>[72647]},ssr:!1}),S=()=>{var e;let[t,n]=(0,a.useState)(null),[i,o]=(0,a.useState)(!1),[r,c]=(0,a.useState)(0),{setFieldInConfigState:d,serverConfig:u}=(0,a.useContext)(p.a)||{},m=null==u?void 0:null===(e=u.instanceDetails)||void 0===e?void 0:e.logo,[h,g]=(0,a.useState)(null),v=null,{apiPath:j,tip:S}=f.TEXTFIELD_PROPS_LOGO,C=()=>{g(null),clearTimeout(v),v=null},T=async()=>{t!==m&&(g((0,b.kg)(b.Jk)),await (0,f.Si)({apiPath:j,data:{value:t},onSuccess:()=>{d({fieldName:"logo",value:t,path:""}),g((0,b.kg)(b.zv)),o(!1),c(Math.floor(100*Math.random()))},onError:e=>{g((0,b.kg)(b.Un,"There was an error: ".concat(e))),o(!1)}}),v=setTimeout(C,f.sI))},E="".concat(w.WB,"logo?random=").concat(r);return(0,s.jsxs)("div",{className:"formfield-container logo-upload-container",children:[(0,s.jsx)("div",{className:"label-side",children:(0,s.jsx)("span",{className:"formfield-label",children:"Logo"})}),(0,s.jsxs)("div",{className:"input-side",children:[(0,s.jsxs)("div",{className:"input-group",children:[(0,s.jsx)("img",{src:E,alt:"avatar",className:"logo-preview"}),(0,s.jsx)(x.Z,{name:"logo",listType:"picture",className:"avatar-uploader",showUploadList:!1,accept:k.dr.join(","),beforeUpload:e=>(o(!0),new Promise((t,s)=>{if(e.size>k.Z7){let t="File size is too big: ".concat((0,k.kR)(e.size));return g((0,b.kg)(b.Un,"There was an error: ".concat(t))),v=setTimeout(C,f.sI),o(!1),s()}if(!k.dr.includes(e.type)){let t="File type is not supported: ".concat(e.type);return g((0,b.kg)(b.Un,"There was an error: ".concat(t))),v=setTimeout(C,f.sI),o(!1),s()}(0,k.y3)(e,e=>{n(e),setTimeout(()=>t(),100)})})),customRequest:T,disabled:i,children:i?(0,s.jsx)(N,{style:{color:"white"}}):(0,s.jsx)(l.Z,{icon:(0,s.jsx)(_,{})})})]}),(0,s.jsx)(y.E,{status:h}),(0,s.jsx)("p",{className:"field-tip",children:S})]})]})};var C=n(11660),T=n(53278);let{Title:E}=o.default,P=e=>{let{cancelPressed:t,okPressed:n}=e;return(0,s.jsxs)(r.default,{width:"70%",title:"Owncast Directory",visible:!0,onCancel:t,footer:(0,s.jsxs)("div",{children:[(0,s.jsx)(l.Z,{onClick:t,children:"Do not share my server."}),(0,s.jsx)(l.Z,{type:"primary",onClick:n,children:"Understood. Share my server publicly."})]}),children:[(0,s.jsx)(o.default.Title,{level:3,children:"What is the Owncast Directory?"}),(0,s.jsxs)(o.default.Paragraph,{children:["Owncast operates a public directory at"," ",(0,s.jsx)("a",{href:"https://directory.owncast.online",children:"directory.owncast.online"})," to share your video streams with more people, while also using these as examples for others. Live streams and servers listed on the directory may optionally be shared on other platforms and applications."]}),(0,s.jsx)(o.default.Title,{level:3,children:"Disclaimers and Responsibility"}),(0,s.jsx)(o.default.Paragraph,{children:(0,s.jsxs)("ul",{children:[(0,s.jsx)("li",{children:"By enabling this feature you are granting explicit rights to Owncast to share your stream to the public via the directory, as well as other sites, applications and any platform where the Owncast project may be promoting Owncast-powered streams including social media."}),(0,s.jsx)("li",{children:"There is no obligation to list any specific server or topic. Servers can and will be removed at any time for any reason."}),(0,s.jsx)("li",{children:"Any server that is streaming Not Safe For Work (NSFW) content and does not have the NSFW toggle enabled on their server will be removed."}),(0,s.jsx)("li",{children:"Any server streaming harmful, hurtful, misleading or hateful content in any way will not be listed."}),(0,s.jsx)("li",{children:"You may reach out to the Owncast team to report any objectionable content or content that you believe should not be be publicly listed."}),(0,s.jsx)("li",{children:"You have the right to free software and to build whatever you want with it. But there is no obligation for others to share it."})]})})]})};function Z(){let[e,t]=(0,a.useState)(null),{serverConfig:n}=(0,a.useContext)(p.a)||{},{instanceDetails:i,yp:o,hideViewerCount:r,disableSearchIndexing:x}=n,{instanceUrl:v}=o,[j,w]=(0,a.useState)(null),[k,N]=(0,a.useState)(!1);if((0,a.useEffect)(()=>{t({...i,...o,hideViewerCount:r,disableSearchIndexing:x})},[i,o]),!e)return null;let _=n=>{n&&N(!0),t({...e,yp:{enabled:n}})},Z=n=>{let{fieldName:s,value:a}=n;t({...e,[s]:a})},D=""!==v;return(0,s.jsxs)("div",{className:"edit-general-settings",children:[(0,s.jsx)(E,{level:3,className:"section-title",children:"Configure Instance Details"}),(0,s.jsx)("br",{}),(0,s.jsx)(h.$7,{fieldName:"name",...f.RE,value:e.name,initialValue:i.name,onChange:Z}),(0,s.jsx)(h.$7,{fieldName:"instanceUrl",...f.cj,value:e.instanceUrl,initialValue:o.instanceUrl,type:h.xA,onChange:Z,onSubmit:()=>{""===e.instanceUrl&&!0===o.enabled&&(0,f.Si)({apiPath:f.AP,data:{value:!1}})}}),(0,s.jsx)(h.$7,{fieldName:"summary",...f.rs,type:h.Sk,value:e.summary,initialValue:i.summary,onChange:Z}),(0,s.jsxs)("div",{style:{marginBottom:"50px",marginRight:"150px"},children:[(0,s.jsxs)("div",{style:{display:"flex",width:"80vh",justifyContent:"space-between",alignItems:"end"},children:[(0,s.jsx)("p",{style:{margin:"20px",marginRight:"10px",fontWeight:"400"},children:"Offline Message:"}),(0,s.jsx)(d.ZP,{value:e.offlineMessage,...f.rd,theme:u.FZ,height:"150px",width:"450px",onChange:e=>{Z({fieldName:"offlineMessage",value:e})},extensions:[(0,c.markdown)({base:c.markdownLanguage,codeLanguages:m.M}),d.tk.lineWrapping]})]}),(0,s.jsx)("div",{className:"field-tip",children:(0,s.jsx)(C.W,{translationKey:T.W.Admin.EditInstanceDetails.offlineMessageDescription,defaultText:"The offline message is displayed to your page visitors when you're not streaming. Markdown is supported."})}),(0,s.jsx)(l.Z,{type:"primary",onClick:()=>{(0,f.Si)({apiPath:f.bJ,data:{value:e.offlineMessage}}),w((0,b.kg)(b.zv)),setTimeout(()=>{w(null)},2e3)},style:{margin:"10px",float:"right"},children:"Save Message"}),(0,s.jsx)(y.Z,{status:j})]}),(0,s.jsx)(S,{}),(0,s.jsx)(g.Z,{fieldName:"hideViewerCount",useSubmit:!0,...f._X,checked:e.hideViewerCount,onChange:function(e){Z({fieldName:"hideViewerCount",value:e})}}),(0,s.jsx)(g.Z,{fieldName:"disableSearchIndexing",useSubmit:!0,...f.il,checked:e.disableSearchIndexing,onChange:function(e){Z({fieldName:"disableSearchIndexing",value:e})}}),(0,s.jsx)("br",{}),(0,s.jsx)("p",{className:"description",children:(0,s.jsx)(C.W,{translationKey:T.W.Admin.EditInstanceDetails.directoryDescription,defaultText:'Increase your audience by appearing in the <a href="https://directory.owncast.online" target="_blank" rel="noreferrer"><strong>Owncast Directory</strong></a>. This is an external service run by the Owncast project. <a href="https://owncast.online/docs/directory/?source=admin" target="_blank" rel="noopener noreferrer">Learn more</a>.'})}),!o.instanceUrl&&(0,s.jsx)("p",{className:"description",children:(0,s.jsx)(C.W,{translationKey:T.W.Admin.EditInstanceDetails.serverUrlRequiredForDirectory,defaultText:"You must set your <strong>Server URL</strong> above to enable the directory."})}),(0,s.jsxs)("div",{className:"config-yp-container",children:[(0,s.jsx)(g.Z,{fieldName:"enabled",useSubmit:!0,...f.P,checked:e.enabled,disabled:!D,onChange:_}),(0,s.jsx)(g.Z,{fieldName:"nsfw",useSubmit:!0,...f.EY,checked:e.nsfw,disabled:!D})]}),k&&(0,s.jsx)(P,{cancelPressed:function(){N(!1),_(!1),Z({fieldName:"enabled",value:!1})},okPressed:function(){N(!1),Z({fieldName:"enabled",value:!0}),t({...e,yp:{enabled:!0}})}})]})}var D=n(91624),O=n(25510),A=n(36981);let{Title:I}=o.default;function L(){let[e,t]=(0,a.useState)(""),[n,i]=(0,a.useState)(null),{serverConfig:o,setFieldInConfigState:r}=(0,a.useContext)(p.a)||{},{instanceDetails:l}=o,{tags:c=[]}=l,{apiPath:d,maxLength:u,placeholder:m,configPath:h}=f.FIELD_PROPS_TAGS,g=null;(0,a.useEffect)(()=>()=>{clearTimeout(g)},[]);let x=()=>{i(null),clearTimeout(g=null)},v=async e=>{i((0,b.kg)(b.Jk)),await (0,f.Si)({apiPath:d,data:{value:e},onSuccess:()=>{r({fieldName:"tags",value:e,path:h}),i((0,b.kg)(b.zv,"Tags updated.")),t(""),g=setTimeout(x,f.sI)},onError:e=>{i((0,b.kg)(b.Un,e)),g=setTimeout(x,f.sI)}})},j=e=>{x();let t=[...c];t.splice(e,1),v(t)};return(0,s.jsxs)("div",{className:"tag-editor-container",children:[(0,s.jsx)(I,{level:3,className:"section-title",children:"Add Tags"}),(0,s.jsx)("p",{className:"description",children:"This is a great way to categorize your Owncast server on the Directory!"}),(0,s.jsx)("div",{className:"edit-current-strings",children:c.map((e,t)=>(0,s.jsx)(D.Z,{closable:!0,onClose:()=>{j(t)},color:A.Q,children:e},"tag-".concat(e,"-").concat(t)))}),(0,s.jsx)("div",{className:"add-new-string-section",children:(0,s.jsx)(O.nv,{fieldName:"tag-input",value:e,className:"new-tag-input",onChange:e=>{let{value:s}=e;n||i(null),t(s)},onPressEnter:()=>{x();let t=e.trim();if(""===t){i((0,b.kg)(b.dG,"Please enter a tag"));return}if(c.some(e=>e.toLowerCase()===t.toLowerCase())){i((0,b.kg)(b.dG,"This tag is already used!"));return}v([...c,t])},maxLength:u,placeholder:m,status:n})})]})}var B=n(31512);let{Title:M}=o.default;function U(){let[e,t]=(0,a.useState)(""),[n,i]=(0,a.useState)(null),[o,r]=(0,a.useState)(!1),{serverConfig:h,setFieldInConfigState:g}=(0,a.useContext)(p.a)||{},{instanceDetails:x}=h,{extraPageContent:v}=x,j=null,w=()=>{i(null),r(!1),clearTimeout(j),j=null};async function k(){i((0,b.kg)(b.Jk)),await (0,f.Si)({apiPath:f.AA,data:{value:e},onSuccess:t=>{g({fieldName:"extraPageContent",value:e,path:"instanceDetails"}),i((0,b.kg)(b.zv,t))},onError:e=>{i((0,b.kg)(b.Un,e))}}),j=setTimeout(w,f.sI)}return(0,a.useEffect)(()=>{t(v)},[x]),(0,s.jsxs)("div",{className:"edit-page-content",children:[(0,s.jsx)(M,{level:3,className:"section-title",children:"Custom Page Content"}),(0,s.jsxs)("p",{className:"description",children:["Edit the content of your page by using simple"," ",(0,s.jsx)("a",{href:"https://www.markdownguide.org/basic-syntax/",target:"_blank",rel:"noopener noreferrer",children:"Markdown syntax"}),"."]}),(0,s.jsx)(d.ZP,{value:e,placeholder:"Enter your custom page content here...",theme:u.FZ,height:"200px",onChange:function(e){t(e),e===v||o?e===v&&o&&r(!1):r(!0)},extensions:[(0,c.markdown)({base:c.markdownLanguage,codeLanguages:m.M}),d.tk.lineWrapping]}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"page-content-actions",children:[o&&(0,s.jsx)(l.Z,{type:"primary",onClick:k,children:"Save"}),(0,s.jsx)(y.E,{status:n})]})]})}function F(){return(0,s.jsxs)("div",{className:"config-public-details-page",children:[(0,s.jsxs)("p",{className:"description",children:["The following are displayed on your site to describe your stream and its content."," ",(0,s.jsx)("a",{href:"https://owncast.online/docs/website/?source=admin",target:"_blank",rel:"noopener noreferrer",children:"Learn more."})]}),(0,s.jsxs)("div",{className:"top-container",children:[(0,s.jsx)("div",{className:"form-module instance-details-container",children:(0,s.jsx)(Z,{})}),(0,s.jsxs)("div",{className:"form-module social-items-container ",children:[(0,s.jsx)("div",{className:"form-module tags-module",children:(0,s.jsx)(L,{})}),(0,s.jsx)("div",{className:"form-module social-handles-container",children:(0,s.jsx)(B.Z,{})})]})]}),(0,s.jsx)("div",{className:"form-module page-content-module",children:(0,s.jsx)(U,{})})]})}var z=n(86560),W=n(78021),R=n(4116),J=n(10227),V=n(72261),H=n(38339),G=n(4316),K=n(48120);let{Title:Y}=o.default,$=()=>{let[e,t]=(0,a.useState)("/* Enter custom CSS here */"),[n,i]=(0,a.useState)(null),[o,r]=(0,a.useState)(!1),{serverConfig:c,setFieldInConfigState:m}=(0,a.useContext)(p.a)||{},{instanceDetails:h}=c,{customStyles:g}=h,x=null,v=()=>{i(null),r(!1),clearTimeout(x),x=null};async function j(){i((0,b.kg)(b.Jk)),await (0,f.Si)({apiPath:f.d$,data:{value:e},onSuccess:t=>{m({fieldName:"customStyles",value:e,path:"instanceDetails"}),i((0,b.kg)(b.zv,t))},onError:e=>{i((0,b.kg)(b.Un,e))}}),x=setTimeout(v,f.sI)}(0,a.useEffect)(()=>{t(g)},[h]);let w=a.useCallback(e=>{t(e),e===g||o?e===g&&o&&r(!1):r(!0)},[]);return(0,s.jsxs)("div",{className:"edit-custom-css",children:[(0,s.jsx)(Y,{level:3,className:"section-title",children:"Customize your page styling with CSS"}),(0,s.jsxs)("p",{className:"description",children:["Customize the look and feel of your Owncast instance by overriding the CSS styles of various components on the page. Refer to the"," ",(0,s.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"CSS & Components guide"}),"."]}),(0,s.jsx)("p",{className:"description",children:"Please input plain CSS text, as this will be directly injected onto your page during load."}),(0,s.jsx)(d.ZP,{value:e,placeholder:"/* Enter custom CSS here */",theme:u.FZ,height:"200px",extensions:[(0,K.css)(),d.tk.lineWrapping],onChange:w}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"page-content-actions",children:[o&&(0,s.jsx)(l.Z,{type:"primary",onClick:j,children:"Save"}),(0,s.jsx)(y.E,{status:n})]})]})};var q=n(12135),X=n.n(q);let{Panel:Q}=z.default,ee="/appearance",et=[{name:"theme-color-users-0",description:""},{name:"theme-color-users-1",description:""},{name:"theme-color-users-2",description:""},{name:"theme-color-users-3",description:""},{name:"theme-color-users-4",description:""},{name:"theme-color-users-5",description:""},{name:"theme-color-users-6",description:""},{name:"theme-color-users-7",description:""}],en=[{name:"theme-color-background-main",description:"Background"},{name:"theme-color-action",description:"Action"},{name:"theme-color-action-hover",description:"Action Hover"},{name:"theme-color-components-primary-button-border",description:"Primary Button Border"},{name:"theme-color-components-primary-button-text",description:"Primary Button Text"},{name:"theme-color-components-chat-background",description:"Chat Background"},{name:"theme-color-components-chat-text",description:"Text: Chat"},{name:"theme-color-components-text-on-dark",description:"Text: Light"},{name:"theme-color-components-text-on-light",description:"Text: Dark"},{name:"theme-color-background-header",description:"Header/Footer"},{name:"theme-color-components-content-background",description:"Page Content"},{name:"theme-color-components-video-status-bar-background",description:"Video Status Bar Background"},{name:"theme-color-components-video-status-bar-foreground",description:"Video Status Bar Foreground"}],es=[{name:"theme-rounded-corners",description:"Corner radius"}],ea=[...en,...et,...es].reduce((e,t)=>(e[t.name]={name:t.name,description:t.description},e),{}),ei=a.memo(e=>{let{value:t,name:n,description:a,onChange:i}=e;return(0,s.jsxs)(W.Z,{span:3,children:[(0,s.jsx)("input",{type:"color",id:n,name:a,title:a,value:t,className:X().colorPicker,onChange:e=>i(n,e.target.value,a)}),(0,s.jsx)("div",{style:{padding:"2px"},children:a})]},n)}),eo=e=>{let{variables:t,updateColor:n}=e,a=t.map(e=>{let{name:t,description:a,value:i}=e;return(0,s.jsx)(ei,{value:i,name:t,description:a,onChange:n},t)});return(0,s.jsx)(s.Fragment,{children:a})};function er(){var e,t,n,i,o,r,c,d,u;let{serverConfig:m,setFieldInConfigState:h}=(0,a.useContext)(p.a),{instanceDetails:g}=m,{appearanceVariables:x}=g,[v,j]=(0,a.useState)(),[w,k]=(0,a.useState)(),[N,_]=(0,a.useState)(null),S=()=>{_(null),clearTimeout(null)},C=()=>{let e={};[...en,...et,...es].forEach(t=>{let n=getComputedStyle(document.documentElement).getPropertyValue("--".concat(t.name));e[t.name]={value:n.trim(),description:t.description}}),j(e)};(0,a.useEffect)(()=>{C()},[]),(0,a.useEffect)(()=>{if(0===Object.keys(x).length)return;let e={};Object.keys(x).forEach(t=>{var n;e[t]={value:x[t],description:(null===(n=ea[t])||void 0===n?void 0:n.description)||""}}),k(e)},[x]);let T=(0,a.useCallback)((e,t,n)=>{k(s=>({...s,[e]:{value:t,description:n}}))},[]),E=async()=>{await (0,f.Si)({apiPath:ee,data:{value:{}},onSuccess:()=>{_((0,b.kg)(b.zv,"Updated.")),setTimeout(S,f.sI),k({})},onError:e=>{_((0,b.kg)(b.Un,e)),setTimeout(S,f.sI)}})},P=async()=>{let e={};Object.keys(w).forEach(t=>{e[t]=w[t].value}),await (0,f.Si)({apiPath:ee,data:{value:e},onSuccess:()=>{_((0,b.kg)(b.zv,"Updated.")),setTimeout(S,f.sI),h({fieldName:"appearanceVariables",value:e,path:"instanceDetails"})},onError:e=>{_((0,b.kg)(b.Un,e)),setTimeout(S,f.sI)}})},Z=e=>{T("theme-rounded-corners","".concat(e.toString(),"px"),"")};if(!v)return(0,s.jsx)("div",{children:"Loading..."});let D=e=>e.map(e=>{let t=(null==w?void 0:w[e.name])?w:v,{name:n,description:s}=e,{value:a}=t[n];return{name:n,description:s,value:a}});return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsxs)(R.Z,{direction:"vertical",children:[(0,s.jsx)(G.Z,{children:"Customize Appearance"}),(0,s.jsx)(H.Z,{children:"The following colors are used across the user interface."}),(0,s.jsx)("div",{children:(0,s.jsxs)(z.default,{defaultActiveKey:["1"],children:[(0,s.jsxs)(Q,{header:(0,s.jsx)("strong",{children:"Section Colors"}),children:[(0,s.jsx)("p",{children:"Certain sections of the interface can be customized by selecting new colors for them."}),(0,s.jsx)(J.Z,{gutter:[16,16],children:(0,s.jsx)(eo,{variables:D(en),updateColor:T})})]},"1"),(0,s.jsx)(Q,{header:(0,s.jsx)("strong",{children:"Chat User Colors"}),children:(0,s.jsx)(J.Z,{gutter:[16,16],children:(0,s.jsx)(eo,{variables:D(et),updateColor:T})})},"2"),(0,s.jsxs)(Q,{header:(0,s.jsx)("strong",{children:"Other Settings"}),children:["How rounded should corners be?",(0,s.jsxs)(J.Z,{gutter:[16,16],children:[(0,s.jsx)(W.Z,{span:12,children:(0,s.jsx)(V.Z,{min:0,max:20,tooltip:{formatter:null},onChange:e=>{Z(e)},value:Number(null!==(d=null!==(c=null==w?void 0:null===(t=w["theme-rounded-corners"])||void 0===t?void 0:null===(e=t.value)||void 0===e?void 0:e.replace("px",""))&&void 0!==c?c:null==v?void 0:null===(i=v["theme-rounded-corners"])||void 0===i?void 0:null===(n=i.value)||void 0===n?void 0:n.replace("px",""))&&void 0!==d?d:0)})}),(0,s.jsx)(W.Z,{span:4,children:(0,s.jsx)("div",{style:{width:"100px",height:"30px",borderRadius:"".concat(null!==(u=null==w?void 0:null===(o=w["theme-rounded-corners"])||void 0===o?void 0:o.value)&&void 0!==u?u:null==v?void 0:null===(r=v["theme-rounded-corners"])||void 0===r?void 0:r.value),backgroundColor:"var(--theme-color-palette-7)"}})})]})]},"4")]})}),(0,s.jsxs)(R.Z,{direction:"horizontal",children:[(0,s.jsx)(l.Z,{type:"primary",onClick:P,children:"Save Colors"}),(0,s.jsx)(l.Z,{type:"ghost",onClick:E,children:"Reset to Defaults"})]}),(0,s.jsx)(y.E,{status:N})]}),(0,s.jsx)("div",{className:"form-module page-content-module",children:(0,s.jsx)($,{})})]})}var el=n(25889),ec=n(122);let{Title:ed}=o.default,eu=()=>{let[e,t]=(0,a.useState)("/* Enter custom Javascript here */"),[n,i]=(0,a.useState)(null),[o,r]=(0,a.useState)(!1),{serverConfig:c,setFieldInConfigState:m}=(0,a.useContext)(p.a)||{},{instanceDetails:h}=c,{customJavascript:g}=h,x=null,v=()=>{i(null),r(!1),clearTimeout(x),x=null};async function j(){i((0,b.kg)(b.Jk)),await (0,f.Si)({apiPath:f.JZ,data:{value:e},onSuccess:t=>{m({fieldName:"customJavascript",value:e,path:"instanceDetails"}),i((0,b.kg)(b.zv,t))},onError:e=>{i((0,b.kg)(b.Un,e))}}),x=setTimeout(v,f.sI)}(0,a.useEffect)(()=>{t(g)},[h]);let w=a.useCallback(e=>{t(e),e===g||o?e===g&&o&&r(!1):r(!0)},[]);return(0,s.jsxs)("div",{className:"edit-custom-css",children:[(0,s.jsx)(ed,{level:3,className:"section-title",children:"Customize your page with Javascript"}),(0,s.jsxs)("p",{className:"description",children:["Insert custom Javascript into your Owncast page to add your own functionality or to add 3rd party scripts. Read more about how to use this feature in the"," ",(0,s.jsx)("a",{href:"https://owncast.online/docs/website/",rel:"noopener noreferrer",target:"_blank",children:"Web page documentation."}),"."]}),(0,s.jsx)("p",{className:"description",children:"Please use raw Javascript, no HTML or any script tags."}),(0,s.jsx)(d.ZP,{value:e,placeholder:"/* Enter custom Javascript here */",theme:u.FZ,height:"200px",extensions:[(0,ec.javascript)(),d.tk.lineWrapping],onChange:w}),(0,s.jsx)("br",{}),(0,s.jsxs)("div",{className:"page-content-actions",children:[o&&(0,s.jsx)(l.Z,{type:"primary",onClick:j,children:"Save"}),(0,s.jsx)(y.E,{status:n})]})]})};function em(){return(0,s.jsx)("div",{className:"config-public-details-page",children:(0,s.jsx)(i.Z,{defaultActiveKey:"1",centered:!0,items:[{label:"General",key:"1",children:(0,s.jsx)(F,{})},{label:"Appearance",key:"2",children:(0,s.jsx)(er,{})},{label:"Custom Scripting",key:"3",children:(0,s.jsx)(eu,{})}]})})}em.getLayout=function(e){return(0,s.jsx)(el.l,{page:e})}},53278:function(e,t,n){"use strict";n.d(t,{W:function(){return s}});let s={Frontend:{chatOffline:"Chat is offline",chatDisabled:"Chat is disabled",chatWillBeAvailable:"Chat will be available when the stream is live",lastLiveAgo:"Last live ago",currentViewers:"Current viewers",maxViewers:"Max viewers this stream",noStreamActive:"No stream is active",healthyStream:"Healthy Stream",playbackHealth:"Playback Health",notify:"Notify",follow:"Follow",connected:"Connected",skipToPlayer:"Skip to player",skipToContent:"Skip to page content",skipToFooter:"Skip to footer",stayUpdated:"Stay updated!",fediverse:"Add your Owncast instance to the Fediverse",owncastDirectory:"Find an audience on the Owncast Directory",useBroadcastingSoftware:"Use your broadcasting software",embedVideo:"Embed your video onto other sites",helloWorld:"hello_world",notificationMessage:"notification_message",complexMessage:"complex_message",componentError:"component_error",BrowserNotifyModal:{unsupported:"browser_notify_unsupported",unsupportedLocal:"browser_notify_unsupported_local",iosTitle:"browser_notify_ios_title",iosDescription:"browser_notify_ios_description",iosShareButton:"browser_notify_ios_share_button",iosAddToHomeScreen:"browser_notify_ios_add_to_home_screen",iosAddButton:"browser_notify_ios_add_button",iosNameAndTap:"browser_notify_ios_name_and_tap",iosComeBack:"browser_notify_ios_come_back",iosAllowPrompt:"browser_notify_ios_allow_prompt",permissionWantsTo:"browser_notify_permission_wants_to",showNotifications:"browser_notify_show_notifications",allowButton:"browser_notify_allow_button",blockButton:"browser_notify_block_button",enabledTitle:"browser_notify_enabled_title",enabledDescription:"browser_notify_enabled_description",deniedTitle:"browser_notify_denied_title",deniedDescription:"browser_notify_denied_description",mainDescription:"browser_notify_main_description",learnMore:"browser_notify_learn_more",errorTitle:"browser_notify_error_title",errorMessage:"browser_notify_error_message"},offlineBasic:"offline_basic",offlineNotifyOnly:"offline_notify_only",offlineFediverseOnly:"offline_fediverse_only",offlineNotifyAndFediverse:"offline_notify_and_fediverse"},Admin:{emojis:"Emojis",emojiPageDescription:"Here you can upload new custom emojis for usage in the chat. When uploading a new emoji, the filename without extension will be used as emoji name. Additionally, emoji names are case-insensitive. For best results, ensure all emoji have unique names.",emojiUploadBulkGuide:'Want to upload custom emojis in bulk? Check out our <a href="https://owncast.online/docs/chat/emoji" rel="noopener noreferrer" target="_blank">Emoji guide</a>.',uploadNewEmoji:"Upload new emoji",deleteEmoji:"Delete emoji",settings:"settings",overriddenViaCommandLine:"Overridden via command line",Chat:{moderationMessagesSent:"Admin.Chat.moderationMessagesSent",moderationMessagesSent_one:"Admin.Chat.moderationMessagesSent_one"},EditInstanceDetails:{offlineMessageDescription:"Admin.EditInstanceDetails.offlineMessageDescription",directoryDescription:"Admin.EditInstanceDetails.directoryDescription",serverUrlRequiredForDirectory:"Admin.EditInstanceDetails.serverUrlRequiredForDirectory"},info:"Info",warning:"Warning",error:"Error",level:"Level",timestamp:"Timestamp",message:"Message",logs:"Logs"},Common:{yes:"Yes",no:"No",documentation:"Documentation",contribute:"Contribute",source:"Source",poweredByOwncast:"Powered by Owncast",poweredByOwncastVersion:"powered_by_owncast_version"},Testing:{testing:"testing_string",another:"another_test",simpleKey:"Testing.simpleKey",itemCount:"Testing.itemCount",messageCount:"Testing.messageCount",noPluralKey:"Testing.noPluralKey"}}},35329:function(e,t,n){"use strict";n.d(t,{Z7:function(){return s},dr:function(){return a},kR:function(){return o},y3:function(){return i}});let s=2097152,a=["image/png","image/jpeg","image/gif"];function i(e,t){let n=new FileReader;n.addEventListener("load",()=>t(n.result)),n.readAsDataURL(e)}function o(e){let t=Math.floor(Math.log(e)/Math.log(1024)),n=1*Number((e/Math.pow(1024,t)).toFixed(2));return"".concat(n," ").concat(["B","KB","MB","GB","TB","PB","EB","ZB","YB"][t])}},12135:function(e){e.exports={colorPicker:"appearance_colorPicker__8KOjx"}}},function(e){e.O(0,[5762,3247,83,1287,8920,7786,443,9904,3657,2502,3093,7528,9532,449,7043,7039,9307,1674,297,3897,7042,6356,7609,5180,5915,5889,3064,2888,9774,179],function(){return e(e.s=39856)}),_N_E=e.O()}]);