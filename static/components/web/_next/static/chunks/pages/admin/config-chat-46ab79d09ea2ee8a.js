(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[1591],{42011:function(e,n,t){(window.__NEXT_P=window.__NEXT_P||[]).push(["/admin/config-chat",function(){return t(9267)}])},78021:function(e,n,t){"use strict";var a=t(78235);n.Z=a.Z},10227:function(e,n,t){"use strict";var a=t(79338);n.Z=a.Z},59633:function(e,n,t){"use strict";t.d(n,{Z:function(){return x}});var a=t(87462),l=t(4942),c=t(72034),s=t(93967),i=t.n(s),o=t(97685),r=t(45987),u=t(67294),d=t(22720),f=t(77524),h=u.forwardRef(function(e,n){var t,a=e.prefixCls,c=void 0===a?"rc-switch":a,s=e.className,h=e.checked,m=e.defaultChecked,g=e.disabled,b=e.loadingIcon,p=e.checkedChildren,v=e.unCheckedChildren,C=e.onClick,x=e.onChange,N=e.onKeyDown,E=(0,r.Z)(e,["prefixCls","className","checked","defaultChecked","disabled","loadingIcon","checkedChildren","unCheckedChildren","onClick","onChange","onKeyDown"]),k=(0,d.Z)(!1,{value:h,defaultValue:m}),Z=(0,o.Z)(k,2),y=Z[0],j=Z[1];function w(e,n){var t=y;return g||(j(t=e),null==x||x(t,n)),t}var O=i()(c,s,(t={},(0,l.Z)(t,"".concat(c,"-checked"),y),(0,l.Z)(t,"".concat(c,"-disabled"),g),t));return u.createElement("button",Object.assign({},E,{type:"button",role:"switch","aria-checked":y,disabled:g,className:O,ref:n,onKeyDown:function(e){e.which===f.Z.LEFT?w(!1,e):e.which===f.Z.RIGHT&&w(!0,e),null==N||N(e)},onClick:function(e){var n=w(!y,e);null==C||C(n,e)}}),b,u.createElement("span",{className:"".concat(c,"-inner")},y?p:v))});h.displayName="Switch";var m=t(17399),g=t(92933),b=t(23173),p=t(51964),v=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>n.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]]);return t},C=u.forwardRef(function(e,n){var t=e.prefixCls,s=e.size,o=e.disabled,r=e.loading,d=e.className,f=v(e,["prefixCls","size","disabled","loading","className"]),C=u.useContext(m.E_),x=C.getPrefixCls,N=C.direction,E=u.useContext(b.Z),k=u.useContext(g.Z),Z=(null!=o?o:k)||r,y=x("switch",t),j=u.createElement("div",{className:"".concat(y,"-handle")},r&&u.createElement(c.Z,{className:"".concat(y,"-loading-icon")})),w=i()((0,l.Z)((0,l.Z)((0,l.Z)({},"".concat(y,"-small"),"small"===(s||E)),"".concat(y,"-loading"),r),"".concat(y,"-rtl"),"rtl"===N),void 0===d?"":d);return u.createElement(p.Z,{insertExtraNode:!0},u.createElement(h,(0,a.Z)({},f,{prefixCls:y,className:w,disabled:Z,ref:n,loadingIcon:j})))});C.__ANT_SWITCH=!0;var x=C},91624:function(e,n,t){"use strict";t.d(n,{Z:function(){return C}});var a=t(4942),l=t(87462),c=t(97685),s=t(69156),i=t(93967),o=t.n(i),r=t(97485),u=t(67294),d=t(17399),f=t(22781),h=t(51964),m=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>n.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]]);return t},g=function(e,n){var t={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>n.indexOf(a)&&(t[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var l=0,a=Object.getOwnPropertySymbols(e);l<a.length;l++)0>n.indexOf(a[l])&&Object.prototype.propertyIsEnumerable.call(e,a[l])&&(t[a[l]]=e[a[l]]);return t},b=new RegExp("^(".concat(f.Y.join("|"),")(-inverse)?$")),p=new RegExp("^(".concat(f.E.join("|"),")$")),v=u.forwardRef(function(e,n){var t=e.prefixCls,i=e.className,f=e.style,m=e.children,v=e.icon,C=e.color,x=e.onClose,N=e.closeIcon,E=e.closable,k=g(e,["prefixCls","className","style","children","icon","color","onClose","closeIcon","closable"]),Z=u.useContext(d.E_),y=Z.getPrefixCls,j=Z.direction,w=u.useState(!0),O=(0,c.Z)(w,2),S=O[0],U=O[1];u.useEffect(function(){"visible"in k&&U(k.visible)},[k.visible]);var _=function(){return!!C&&(b.test(C)||p.test(C))},P=(0,l.Z)({backgroundColor:C&&!_()?C:void 0},f),I=_(),T=y("tag",t),D=o()(T,(0,a.Z)((0,a.Z)((0,a.Z)((0,a.Z)({},"".concat(T,"-").concat(C),I),"".concat(T,"-has-color"),C&&!I),"".concat(T,"-hidden"),!S),"".concat(T,"-rtl"),"rtl"===j),i),A=function(e){e.stopPropagation(),null==x||x(e),!e.defaultPrevented&&("visible"in k||U(!1))},M="onClick"in k||m&&"a"===m.type,R=(0,r.Z)(k,["visible"]),F=v||null,z=F?u.createElement(u.Fragment,null,F,u.createElement("span",null,m)):m,J=u.createElement("span",(0,l.Z)({},R,{ref:n,className:D,style:P}),z,void 0!==E&&E?N?u.createElement("span",{className:"".concat(T,"-close-icon"),onClick:A},N):u.createElement(s.Z,{className:"".concat(T,"-close-icon"),onClick:A}):null);return M?u.createElement(h.Z,null,J):J});v.CheckableTag=function(e){var n=e.prefixCls,t=e.className,c=e.checked,s=e.onChange,i=e.onClick,r=m(e,["prefixCls","className","checked","onChange","onClick"]),f=(0,u.useContext(d.E_).getPrefixCls)("tag",n),h=o()(f,(0,a.Z)((0,a.Z)({},"".concat(f,"-checkable"),!0),"".concat(f,"-checkable-checked"),c),t);return u.createElement("span",(0,l.Z)({},r,{className:h,onClick:function(e){null==s||s(!c),null==i||i(e)}}))};var C=v},9267:function(e,n,t){"use strict";t.r(n),t.d(n,{default:function(){return b}});var a=t(85893),l=t(23657),c=t(10227),s=t(78021),i=t(67294),o=t(25510),r=t(18063),u=t(22067),d=t(36981),f=t(28700),h=t(70869),m=t(4481),g=t(25889);function b(){var e;let{Title:n}=l.default,[t,g]=(0,i.useState)(null),[b,p]=(0,i.useState)(null),[v,C]=(0,i.useState)(null),{serverConfig:x,setFieldInConfigState:N}=(0,i.useContext)(m.a)||{},{chatDisabled:E,chatJoinMessagesEnabled:k,forbiddenUsernames:Z,instanceDetails:y,suggestedUsernames:j,chatEstablishedUserMode:w,chatSpamProtectionEnabled:O,chatSlurFilterEnabled:S,chatRequireAuthentication:U}=x,{welcomeMessage:_}=y,P=e=>{let{fieldName:n,value:a}=e;g({...t,[n]:a})};function I(){p(null)}function T(){(0,h.Si)({apiPath:h.CJ,data:{value:t.forbiddenUsernames},onSuccess:()=>{N({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),p((0,f.kg)(f.zv)),setTimeout(I,h.sI)},onError:e=>{p((0,f.kg)(f.Un,e)),setTimeout(I,h.sI)}})}function D(){C(null)}function A(){(0,h.Si)({apiPath:h.cf,data:{value:t.suggestedUsernames},onSuccess:()=>{N({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),C((0,f.kg)(f.zv)),setTimeout(D,h.sI)},onError:e=>{p((0,f.kg)(f.Un,e)),setTimeout(D,h.sI)}})}return((0,i.useEffect)(()=>{g({chatDisabled:E,chatJoinMessagesEnabled:k,forbiddenUsernames:Z,suggestedUsernames:j,welcomeMessage:_,chatEstablishedUserMode:w,chatSpamProtectionEnabled:O,chatSlurFilterEnabled:S,chatRequireAuthentication:U})},[x]),t)?(0,a.jsxs)("div",{className:"config-server-details-form",children:[(0,a.jsx)(n,{children:"Chat Settings"}),(0,a.jsxs)(c.Z,{gutter:[45,16],children:[(0,a.jsx)(s.Z,{md:24,lg:12,children:(0,a.jsxs)("div",{className:"form-module",children:[(0,a.jsx)(u.Z,{fieldName:"chatDisabled",...h.yj,checked:!t.chatDisabled,reversed:!0,onChange:function(e){P({fieldName:"chatDisabled",value:!e})}}),(0,a.jsx)(u.Z,{fieldName:"chatJoinMessagesEnabled",...h.kB,checked:t.chatJoinMessagesEnabled,onChange:function(e){P({fieldName:"chatJoinMessagesEnabled",value:e})}}),(0,a.jsx)(r.$7,{fieldName:"welcomeMessage",...h.IX,type:o.Sk,value:t.welcomeMessage,initialValue:_,onChange:P}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(d.Y,{title:h.Dg.label,placeholder:h.Dg.placeholder,description:h.Dg.tip,values:t.forbiddenUsernames,handleDeleteIndex:function(e){t.forbiddenUsernames.splice(e,1),T()},handleCreateString:function(e){t.forbiddenUsernames.push(e),P({fieldName:"forbiddenUsernames",value:t.forbiddenUsernames}),T()},submitStatus:b}),(0,a.jsx)("br",{}),(0,a.jsx)("br",{}),(0,a.jsx)(d.Y,{title:h.AN.label,placeholder:h.AN.placeholder,description:h.AN.tip,values:t.suggestedUsernames,handleDeleteIndex:function(e){t.suggestedUsernames.splice(e,1),A()},handleCreateString:function(e){t.suggestedUsernames.push(e),P({fieldName:"suggestedUsernames",value:t.suggestedUsernames}),A()},submitStatus:v,continuousStatusMessage:0===(e=t.suggestedUsernames.length)?(0,f.kg)("success",h.AN.no_entries):e>0&&e<10?(0,f.kg)("warning",h.AN.min_not_reached):null})]})}),(0,a.jsx)(s.Z,{md:24,lg:12,children:(0,a.jsxs)("div",{className:"form-module",children:[(0,a.jsx)(u.Z,{fieldName:"chatSpamProtectionEnabled",...h.U5,checked:t.chatSpamProtectionEnabled,onChange:function(e){P({fieldName:"chatSpamProtectionEnabled",value:e})}}),(0,a.jsx)(u.Z,{fieldName:"chatEstablishedUserMode",...h.dj,checked:t.chatEstablishedUserMode,onChange:function(e){P({fieldName:"chatEstablishedUserMode",value:e})}}),(0,a.jsx)(u.Z,{fieldName:"chatSlurFilterEnabled",...h.T_,checked:t.chatSlurFilterEnabled,onChange:function(e){P({fieldName:"chatSlurFilterEnabled",value:e})}}),(0,a.jsx)(u.Z,{fieldName:"chatRequireAuthentication",...h.i6,checked:t.chatRequireAuthentication,onChange:function(e){P({fieldName:"chatRequireAuthentication",value:e})}})]})})]})]}):null}b.getLayout=function(e){return(0,a.jsx)(g.l,{page:e})}}},function(e){e.O(0,[83,1287,8920,7786,443,9904,3657,2502,3093,7039,1882,5889,3005,2888,9774,179],function(){return e(e.s=42011)}),_N_E=e.O()}]);